(()=>{var a={};a.id=631,a.ids=[631],a.modules={222:a=>{a.exports={container:"analytics-page-client_container__aRDF2",wrapper:"analytics-page-client_wrapper__FvuJN",header:"analytics-page-client_header__k9Gy6",backButton:"analytics-page-client_backButton__3FYvD",headerCenter:"analytics-page-client_headerCenter__NFuxU",title:"analytics-page-client_title__Zt6FI",subtitle:"analytics-page-client_subtitle__szeZf",subtitleText:"analytics-page-client_subtitleText__4V1r2",backIcon:"analytics-page-client_backIcon__NnQyl",timeRangeContainer:"analytics-page-client_timeRangeContainer__2y6Y4",timeRangeTabs:"analytics-page-client_timeRangeTabs__c9lFx",timeRangeTab:"analytics-page-client_timeRangeTab__cn8OG",timeRangeTabActive:"analytics-page-client_timeRangeTabActive___Yi4M",buttonActivate:"analytics-page-client_buttonActivate__BVaWZ",accountSelectorContainer:"analytics-page-client_accountSelectorContainer__hdG25",accountSelectorLabel:"analytics-page-client_accountSelectorLabel__c2wMc",accountSelector:"analytics-page-client_accountSelector__nJVZ8",emptyState:"analytics-page-client_emptyState__zeNoI",emptyStateContent:"analytics-page-client_emptyStateContent__0_8fC",emptyStateIcon:"analytics-page-client_emptyStateIcon__vdPoK",emptyStateTitle:"analytics-page-client_emptyStateTitle__uJQJ2",emptyStateText:"analytics-page-client_emptyStateText__FehD0",noData:"analytics-page-client_noData__UO9__",chartContainer:"analytics-page-client_chartContainer__Yzb8a",comparisonStats:"analytics-page-client_comparisonStats__RwGDd",rechartTooltip:"analytics-page-client_rechartTooltip__Mzsv3",rechartTooltipLabel:"analytics-page-client_rechartTooltipLabel__89qCg",rechartTooltipValue:"analytics-page-client_rechartTooltipValue__Gx64Z",headerSection:"analytics-page-client_headerSection__pu9At",main:"analytics-page-client_main__D_gnt",statsGrid:"analytics-page-client_statsGrid__cylmt",analyticsCard:"analytics-page-client_analyticsCard__c5WSb",scrollHint:"analytics-page-client_scrollHint__pyNQT"}},261:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/app-paths")},3295:a=>{"use strict";a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},5486:a=>{"use strict";a.exports=require("bcrypt")},10109:(a,b)=>{"use strict";Object.defineProperty(b,Symbol.toStringTag,{value:"Module"}),b.isPlainObject=function(a){if("object"!=typeof a||null==a)return!1;if(null===Object.getPrototypeOf(a))return!0;if("[object Object]"!==Object.prototype.toString.call(a)){let b=a[Symbol.toStringTag];return null!=b&&!!Object.getOwnPropertyDescriptor(a,Symbol.toStringTag)?.writable&&a.toString()===`[object ${b}]`}let b=a;for(;null!==Object.getPrototypeOf(b);)b=Object.getPrototypeOf(b);return Object.getPrototypeOf(a)===b}},10846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12219:(a,b,c)=>{Promise.resolve().then(c.bind(c,74433)),Promise.resolve().then(c.bind(c,50516))},12518:a=>{"use strict";a.exports=require("mongodb")},17054:(a,b,c)=>{"use strict";c.d(b,{default:()=>d});let d=(0,c(66352).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/gbenga.ilesanmi/Github/PD/money-mapper/packages/web/src/app/components/analytics/analytics-page-client/analytics-page-client.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/gbenga.ilesanmi/Github/PD/money-mapper/packages/web/src/app/components/analytics/analytics-page-client/analytics-page-client.tsx","default")},19121:a=>{"use strict";a.exports=require("next/dist/server/app-render/action-async-storage.external.js")},23032:(a,b,c)=>{a.exports=c(10109).isPlainObject},26713:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/is-bot")},28354:a=>{"use strict";a.exports=require("util")},29294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:a=>{"use strict";a.exports=require("path")},35330:a=>{a.exports={statsGrid:"stats-cards_statsGrid__R99kE",statsCard:"stats-cards_statsCard__iBZ6N",statsCardHeader:"stats-cards_statsCardHeader__hzHcC",statsCardTitle:"stats-cards_statsCardTitle__Z2LbZ",statsCardContent:"stats-cards_statsCardContent__8Sm60",statsValue:"stats-cards_statsValue__sqM_A",incomeColor:"stats-cards_incomeColor__8vKqG",expenseColor:"stats-cards_expenseColor__o8_2_"}},39800:(a,b,c)=>{"use strict";c.d(b,{P:()=>e});let d={food:{label:"Food & Groceries",color:"#10b981"},transport:{label:"Transportation",color:"#3b82f6"},dining:{label:"Dining Out",color:"#f59e0b"},shopping:{label:"Shopping",color:"#ef4444"},utilities:{label:"Utilities",color:"#8b5cf6"},housing:{label:"Housing",color:"#06b6d4"},healthcare:{label:"Healthcare",color:"#ec4899"},entertainment:{label:"Entertainment",color:"#84cc16"},other:{label:"Other",color:"#6b7280"}};function e(a){let b={...d};return a&&a.forEach(a=>{b[`custom_${a.id}`]={label:a.name,color:a.color}}),b}},41025:a=>{"use strict";a.exports=require("next/dist/server/app-render/dynamic-access-async-storage.external.js")},46563:(a,b,c)=>{Promise.resolve().then(c.bind(c,17054)),Promise.resolve().then(c.bind(c,31965))},49806:(a,b,c)=>{"use strict";c.r(b),c.d(b,{GlobalError:()=>C.a,__next_app__:()=>I,handler:()=>K,pages:()=>H,routeModule:()=>J,tree:()=>G});var d=c(24332),e=c(48819),f=c(93949),g=c(98730),h=c(88996),i=c(16318),j=c(3093),k=c(36748),l=c(98190),m=c(53904),n=c(47735),o=c(20611),p=c(22512),q=c(261),r=c(13863),s=c(8748),t=c(26713),u=c(65262),v=c(97779),w=c(5303),x=c(66704),y=c(67656),z=c(3072),A=c(86439),B=c(93824),C=c.n(B),D=c(97540),E=c(49005),F={};for(let a in D)0>["default","tree","pages","GlobalError","__next_app__","routeModule","handler"].indexOf(a)&&(F[a]=()=>D[a]);c.d(b,F);let G={children:["",{children:["[customerId]",{children:["analytics",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(c.bind(c,77069)),"/Users/gbenga.ilesanmi/Github/PD/money-mapper/packages/web/src/app/[customerId]/analytics/page.tsx"]}]},{}]},{metadata:{icon:[async a=>(await Promise.resolve().then(c.bind(c,9699))).default(a)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(c.bind(c,20685)),"/Users/gbenga.ilesanmi/Github/PD/money-mapper/packages/web/src/app/layout.tsx"],"global-error":[()=>Promise.resolve().then(c.t.bind(c,93824,23)),"next/dist/client/components/builtin/global-error.js"],"not-found":[()=>Promise.resolve().then(c.t.bind(c,50134,23)),"next/dist/client/components/builtin/not-found.js"],forbidden:[()=>Promise.resolve().then(c.t.bind(c,35983,23)),"next/dist/client/components/builtin/forbidden.js"],unauthorized:[()=>Promise.resolve().then(c.t.bind(c,74482,23)),"next/dist/client/components/builtin/unauthorized.js"],metadata:{icon:[async a=>(await Promise.resolve().then(c.bind(c,9699))).default(a)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,H=["/Users/gbenga.ilesanmi/Github/PD/money-mapper/packages/web/src/app/[customerId]/analytics/page.tsx"],I={require:c,loadChunk:()=>Promise.resolve()},J=new d.AppPageRouteModule({definition:{kind:e.RouteKind.APP_PAGE,page:"/[customerId]/analytics/page",pathname:"/[customerId]/analytics",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:G},distDir:".next",projectDir:""});async function K(a,b,c){var d;let B="/[customerId]/analytics/page";"/index"===B&&(B="/");let F="false",L=(0,h.getRequestMeta)(a,"postponed"),M=(0,h.getRequestMeta)(a,"minimalMode"),N=await J.prepare(a,b,{srcPage:B,multiZoneDraftMode:F});if(!N)return b.statusCode=400,b.end("Bad Request"),null==c.waitUntil||c.waitUntil.call(c,Promise.resolve()),null;let{buildId:O,query:P,params:Q,parsedUrl:R,pageIsDynamic:S,buildManifest:T,nextFontManifest:U,reactLoadableManifest:V,serverActionsManifest:W,clientReferenceManifest:X,subresourceIntegrityManifest:Y,prerenderManifest:Z,isDraftMode:$,resolvedPathname:_,revalidateOnlyGenerated:aa,routerServerContext:ab,nextConfig:ac}=N,ad=R.pathname||"/",ae=(0,q.normalizeAppPath)(B),{isOnDemandRevalidate:af}=N,ag=Z.dynamicRoutes[ae],ah=Z.routes[_],ai=!!(ag||ah||Z.routes[ae]),aj=a.headers["user-agent"]||"",ak=(0,t.getBotType)(aj),al=(0,o.isHtmlBotRequest)(a),am=(0,h.getRequestMeta)(a,"isPrefetchRSCRequest")??!!a.headers[s.NEXT_ROUTER_PREFETCH_HEADER],an=(0,h.getRequestMeta)(a,"isRSCRequest")??!!a.headers[s.RSC_HEADER],ao=(0,r.getIsPossibleServerAction)(a),ap=(0,l.checkIsAppPPREnabled)(ac.experimental.ppr)&&(null==(d=Z.routes[ae]??Z.dynamicRoutes[ae])?void 0:d.renderingMode)==="PARTIALLY_STATIC",aq=!1,ar=!1,as=ap?L:void 0,at=ap&&an&&!am,au=(0,h.getRequestMeta)(a,"segmentPrefetchRSCRequest"),av=!aj||(0,o.shouldServeStreamingMetadata)(aj,ac.htmlLimitedBots);al&&ap&&(ai=!1,av=!1);let aw=!0===J.isDev||!ai||"string"==typeof L||at,ax=al&&ap,ay=null;$||!ai||aw||ao||as||at||(ay=_);let az=ay;!az&&J.isDev&&(az=_);let aA={...D,tree:G,pages:H,GlobalError:C(),handler:K,routeModule:J,__next_app__:I};W&&X&&(0,n.setReferenceManifestsSingleton)({page:B,clientReferenceManifest:X,serverActionsManifest:W,serverModuleMap:(0,p.createServerModuleMap)({serverActionsManifest:W})});let aB=a.method||"GET",aC=(0,g.getTracer)(),aD=aC.getActiveScopeSpan();try{let d=async(c,d)=>{let e=new k.NodeNextRequest(a),f=new k.NodeNextResponse(b);return J.render(e,f,d).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let d=aC.getRootSpanAttributes();if(!d)return;if(d.get("next.span_type")!==i.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${d.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=d.get("next.route");if(e){let a=`${aB} ${e}`;c.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),c.updateName(a)}else c.updateName(`${aB} ${a.url}`)})},f=async({span:e,postponed:f,fallbackRouteParams:g})=>{let i={query:P,params:Q,page:ae,sharedContext:{buildId:O},serverComponentsHmrCache:(0,h.getRequestMeta)(a,"serverComponentsHmrCache"),fallbackRouteParams:g,renderOpts:{App:()=>null,Document:()=>null,pageConfig:{},ComponentMod:aA,Component:(0,j.T)(aA),params:Q,routeModule:J,page:B,postponed:f,shouldWaitOnAllReady:ax,serveStreamingMetadata:av,supportsDynamicResponse:"string"==typeof f||aw,buildManifest:T,nextFontManifest:U,reactLoadableManifest:V,subresourceIntegrityManifest:Y,serverActionsManifest:W,clientReferenceManifest:X,setIsrStatus:null==ab?void 0:ab.setIsrStatus,dir:J.projectDir,isDraftMode:$,isRevalidate:ai&&!f&&!at,botType:ak,isOnDemandRevalidate:af,isPossibleServerAction:ao,assetPrefix:ac.assetPrefix,nextConfigOutput:ac.output,crossOrigin:ac.crossOrigin,trailingSlash:ac.trailingSlash,previewProps:Z.preview,deploymentId:ac.deploymentId,enableTainting:ac.experimental.taint,htmlLimitedBots:ac.htmlLimitedBots,devtoolSegmentExplorer:ac.experimental.devtoolSegmentExplorer,reactMaxHeadersLength:ac.reactMaxHeadersLength,multiZoneDraftMode:F,incrementalCache:(0,h.getRequestMeta)(a,"incrementalCache"),cacheLifeProfiles:ac.experimental.cacheLife,basePath:ac.basePath,serverActions:ac.experimental.serverActions,...aq?{nextExport:!0,supportsDynamicResponse:!1,isStaticGeneration:!0,isRevalidate:!0,isDebugDynamicAccesses:aq}:{},experimental:{isRoutePPREnabled:ap,expireTime:ac.expireTime,staleTimes:ac.experimental.staleTimes,dynamicIO:!!ac.experimental.dynamicIO,clientSegmentCache:!!ac.experimental.clientSegmentCache,dynamicOnHover:!!ac.experimental.dynamicOnHover,inlineCss:!!ac.experimental.inlineCss,authInterrupts:!!ac.experimental.authInterrupts,clientTraceMetadata:ac.experimental.clientTraceMetadata||[]},waitUntil:c.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:()=>{},onInstrumentationRequestError:(b,c,d)=>J.onRequestError(a,b,d,ab),err:(0,h.getRequestMeta)(a,"invokeError"),dev:J.isDev}},k=await d(e,i),{metadata:l}=k,{cacheControl:m,headers:n={},fetchTags:o}=l;if(o&&(n[x.NEXT_CACHE_TAGS_HEADER]=o),a.fetchMetrics=l.fetchMetrics,ai&&(null==m?void 0:m.revalidate)===0&&!J.isDev&&!ap){let a=l.staticBailoutInfo,b=Object.defineProperty(Error(`Page changed from static to dynamic at runtime ${_}${(null==a?void 0:a.description)?`, reason: ${a.description}`:""}
see more here https://nextjs.org/docs/messages/app-static-to-dynamic-error`),"__NEXT_ERROR_CODE",{value:"E132",enumerable:!1,configurable:!0});if(null==a?void 0:a.stack){let c=a.stack;b.stack=b.message+c.substring(c.indexOf("\n"))}throw b}return{value:{kind:u.CachedRouteKind.APP_PAGE,html:k,headers:n,rscData:l.flightData,postponed:l.postponed,status:l.statusCode,segmentData:l.segmentData},cacheControl:m}},l=async({hasResolved:d,previousCacheEntry:g,isRevalidating:i,span:j})=>{let k,l=!1===J.isDev,n=d||b.writableEnded;if(af&&aa&&!g&&!M)return(null==ab?void 0:ab.render404)?await ab.render404(a,b):(b.statusCode=404,b.end("This page could not be found")),null;if(ag&&(k=(0,v.parseFallbackField)(ag.fallback)),k===v.FallbackMode.PRERENDER&&(0,t.isBot)(aj)&&(k=v.FallbackMode.BLOCKING_STATIC_RENDER),(null==g?void 0:g.isStale)===-1&&(af=!0),af&&(k!==v.FallbackMode.NOT_FOUND||g)&&(k=v.FallbackMode.BLOCKING_STATIC_RENDER),!M&&k!==v.FallbackMode.BLOCKING_STATIC_RENDER&&az&&!n&&!$&&S&&(l||!ah)){let b;if((l||ag)&&k===v.FallbackMode.NOT_FOUND)throw new A.NoFallbackError;if(ap&&!an){if(b=await J.handleResponse({cacheKey:l?ae:null,req:a,nextConfig:ac,routeKind:e.RouteKind.APP_PAGE,isFallback:!0,prerenderManifest:Z,isRoutePPREnabled:ap,responseGenerator:async()=>f({span:j,postponed:void 0,fallbackRouteParams:l||ar?(0,m.u)(ae):null}),waitUntil:c.waitUntil}),null===b)return null;if(b)return delete b.cacheControl,b}}let o=af||i||!as?void 0:as;if(aq&&void 0!==o)return{cacheControl:{revalidate:1,expire:void 0},value:{kind:u.CachedRouteKind.PAGES,html:w.default.fromStatic(""),pageData:{},headers:void 0,status:void 0}};let p=S&&ap&&((0,h.getRequestMeta)(a,"renderFallbackShell")||ar)?(0,m.u)(ad):null;return f({span:j,postponed:o,fallbackRouteParams:p})},n=async d=>{var g,i,j,k,m;let n,o=await J.handleResponse({cacheKey:ay,responseGenerator:a=>l({span:d,...a}),routeKind:e.RouteKind.APP_PAGE,isOnDemandRevalidate:af,isRoutePPREnabled:ap,req:a,nextConfig:ac,prerenderManifest:Z,waitUntil:c.waitUntil});if($&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate"),J.isDev&&b.setHeader("Cache-Control","no-store, must-revalidate"),!o){if(ay)throw Object.defineProperty(Error("invariant: cache entry required but not generated"),"__NEXT_ERROR_CODE",{value:"E62",enumerable:!1,configurable:!0});return null}if((null==(g=o.value)?void 0:g.kind)!==u.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant app-page handler received invalid cache entry ${null==(j=o.value)?void 0:j.kind}`),"__NEXT_ERROR_CODE",{value:"E707",enumerable:!1,configurable:!0});let p="string"==typeof o.value.postponed;ai&&!at&&(!p||am)&&(M||b.setHeader("x-nextjs-cache",af?"REVALIDATED":o.isMiss?"MISS":o.isStale?"STALE":"HIT"),b.setHeader(s.NEXT_IS_PRERENDER_HEADER,"1"));let{value:q}=o;if(as)n={revalidate:0,expire:void 0};else if(M&&an&&!am&&ap)n={revalidate:0,expire:void 0};else if(!J.isDev)if($)n={revalidate:0,expire:void 0};else if(ai){if(o.cacheControl)if("number"==typeof o.cacheControl.revalidate){if(o.cacheControl.revalidate<1)throw Object.defineProperty(Error(`Invalid revalidate configuration provided: ${o.cacheControl.revalidate} < 1`),"__NEXT_ERROR_CODE",{value:"E22",enumerable:!1,configurable:!0});n={revalidate:o.cacheControl.revalidate,expire:(null==(k=o.cacheControl)?void 0:k.expire)??ac.expireTime}}else n={revalidate:x.CACHE_ONE_YEAR,expire:void 0}}else b.getHeader("Cache-Control")||(n={revalidate:0,expire:void 0});if(o.cacheControl=n,"string"==typeof au&&(null==q?void 0:q.kind)===u.CachedRouteKind.APP_PAGE&&q.segmentData){b.setHeader(s.NEXT_DID_POSTPONE_HEADER,"2");let c=null==(m=q.headers)?void 0:m[x.NEXT_CACHE_TAGS_HEADER];M&&ai&&c&&"string"==typeof c&&b.setHeader(x.NEXT_CACHE_TAGS_HEADER,c);let d=q.segmentData.get(au);return void 0!==d?(0,z.sendRenderResult)({req:a,res:b,type:"rsc",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:w.default.fromStatic(d),cacheControl:o.cacheControl}):(b.statusCode=204,(0,z.sendRenderResult)({req:a,res:b,type:"rsc",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:w.default.fromStatic(""),cacheControl:o.cacheControl}))}let r=(0,h.getRequestMeta)(a,"onCacheEntry");if(r&&await r({...o,value:{...o.value,kind:"PAGE"}},{url:(0,h.getRequestMeta)(a,"initURL")}))return null;if(p&&as)throw Object.defineProperty(Error("Invariant: postponed state should not be present on a resume request"),"__NEXT_ERROR_CODE",{value:"E396",enumerable:!1,configurable:!0});if(q.headers){let a={...q.headers};for(let[c,d]of(M&&ai||delete a[x.NEXT_CACHE_TAGS_HEADER],Object.entries(a)))if(void 0!==d)if(Array.isArray(d))for(let a of d)b.appendHeader(c,a);else"number"==typeof d&&(d=d.toString()),b.appendHeader(c,d)}let t=null==(i=q.headers)?void 0:i[x.NEXT_CACHE_TAGS_HEADER];if(M&&ai&&t&&"string"==typeof t&&b.setHeader(x.NEXT_CACHE_TAGS_HEADER,t),!q.status||an&&ap||(b.statusCode=q.status),!M&&q.status&&E.RedirectStatusCode[q.status]&&an&&(b.statusCode=200),p&&b.setHeader(s.NEXT_DID_POSTPONE_HEADER,"1"),an&&!$){if(void 0===q.rscData){if(q.postponed)throw Object.defineProperty(Error("Invariant: Expected postponed to be undefined"),"__NEXT_ERROR_CODE",{value:"E372",enumerable:!1,configurable:!0});return(0,z.sendRenderResult)({req:a,res:b,type:"rsc",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:q.html,cacheControl:at?{revalidate:0,expire:void 0}:o.cacheControl})}return(0,z.sendRenderResult)({req:a,res:b,type:"rsc",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:w.default.fromStatic(q.rscData),cacheControl:o.cacheControl})}let v=q.html;if(!p||M)return(0,z.sendRenderResult)({req:a,res:b,type:"html",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:v,cacheControl:o.cacheControl});if(aq)return v.chain(new ReadableStream({start(a){a.enqueue(y.ENCODED_TAGS.CLOSED.BODY_AND_HTML),a.close()}})),(0,z.sendRenderResult)({req:a,res:b,type:"html",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:v,cacheControl:{revalidate:0,expire:void 0}});let A=new TransformStream;return v.chain(A.readable),f({span:d,postponed:q.postponed,fallbackRouteParams:null}).then(async a=>{var b,c;if(!a)throw Object.defineProperty(Error("Invariant: expected a result to be returned"),"__NEXT_ERROR_CODE",{value:"E463",enumerable:!1,configurable:!0});if((null==(b=a.value)?void 0:b.kind)!==u.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant: expected a page response, got ${null==(c=a.value)?void 0:c.kind}`),"__NEXT_ERROR_CODE",{value:"E305",enumerable:!1,configurable:!0});await a.value.html.pipeTo(A.writable)}).catch(a=>{A.writable.abort(a).catch(a=>{console.error("couldn't abort transformer",a)})}),(0,z.sendRenderResult)({req:a,res:b,type:"html",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:v,cacheControl:{revalidate:0,expire:void 0}})};if(!aD)return await aC.withPropagatedContext(a.headers,()=>aC.trace(i.BaseServerSpan.handleRequest,{spanName:`${aB} ${a.url}`,kind:g.SpanKind.SERVER,attributes:{"http.method":aB,"http.target":a.url}},n));await n(aD)}catch(b){throw aD||await J.onRequestError(a,b,{routerKind:"App Router",routePath:B,routeType:"render",revalidateReason:(0,f.c)({isRevalidate:ai,isOnDemandRevalidate:af})},ab),b}}},54422:a=>{a.exports={pieChartWrapper:"pie-chart_pieChartWrapper__z8ixJ",pieChartContainer:"pie-chart_pieChartContainer__KQWQa",pieTooltipContent:"pie-chart_pieTooltipContent__IcVkL",pieTooltipTitle:"pie-chart_pieTooltipTitle__sPNdX",pieTooltipValue:"pie-chart_pieTooltipValue__RpdZR",pieTooltipPercentage:"pie-chart_pieTooltipPercentage__OprjK",pieLegend:"pie-chart_pieLegend__quF4m",pieLegendItem:"pie-chart_pieLegendItem__QTS5y",pieLegendItemHover:"pie-chart_pieLegendItemHover__F_R3f",pieLegendColor:"pie-chart_pieLegendColor__5jEbz",pieLegendLabel:"pie-chart_pieLegendLabel__D_kwu",pieLegendPercentage:"pie-chart_pieLegendPercentage__zRnVs"}},55511:a=>{"use strict";a.exports=require("crypto")},62028:a=>{a.exports={container:"category-breakdown_container__pUT9s",addButton:"category-breakdown_addButton__4hfRO",addForm:"category-breakdown_addForm__z_alZ",input:"category-breakdown_input__qHwtL",formButtons:"category-breakdown_formButtons__3RvaF",saveBtn:"category-breakdown_saveBtn__z0IDe",cancelBtn:"category-breakdown_cancelBtn__ibcct",categoryList:"category-breakdown_categoryList__Fftqv",categoryItem:"category-breakdown_categoryItem__zuUsm",categoryItemLeft:"category-breakdown_categoryItemLeft__htq1l",categoryColor:"category-breakdown_categoryColor__HhN3f",categoryLabel:"category-breakdown_categoryLabel__iRFT0",categoryItemRight:"category-breakdown_categoryItemRight__a9_1z",categoryPercentage:"category-breakdown_categoryPercentage__F4knP",categoryAmount:"category-breakdown_categoryAmount__xHkB9",deleteBtn:"category-breakdown_deleteBtn__38i01",error:"category-breakdown_error__TaNze",noData:"category-breakdown_noData__i6ZVv"}},63033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64935:(a,b,c)=>{"use strict";c.d(b,{RG:()=>v,bL:()=>E,q7:()=>F});var d=c(60159),e=c(66634),f=c(1343),g=c(11246),h=c(27134),i=c(32194),j=c(94108),k=c(15250),l=c(40594),m=c(88200),n=c(13486),o="rovingFocusGroup.onEntryFocus",p={bubbles:!1,cancelable:!0},q="RovingFocusGroup",[r,s,t]=(0,f.N)(q),[u,v]=(0,h.A)(q,[t]),[w,x]=u(q),y=d.forwardRef((a,b)=>(0,n.jsx)(r.Provider,{scope:a.__scopeRovingFocusGroup,children:(0,n.jsx)(r.Slot,{scope:a.__scopeRovingFocusGroup,children:(0,n.jsx)(z,{...a,ref:b})})}));y.displayName=q;var z=d.forwardRef((a,b)=>{let{__scopeRovingFocusGroup:c,orientation:f,loop:h=!1,dir:i,currentTabStopId:r,defaultCurrentTabStopId:t,onCurrentTabStopIdChange:u,onEntryFocus:v,preventScrollOnEntryFocus:x=!1,...y}=a,z=d.useRef(null),A=(0,g.s)(b,z),B=(0,m.jH)(i),[C,E]=(0,l.i)({prop:r,defaultProp:t??null,onChange:u,caller:q}),[F,G]=d.useState(!1),H=(0,k.c)(v),I=s(c),J=d.useRef(!1),[K,L]=d.useState(0);return d.useEffect(()=>{let a=z.current;if(a)return a.addEventListener(o,H),()=>a.removeEventListener(o,H)},[H]),(0,n.jsx)(w,{scope:c,orientation:f,dir:B,loop:h,currentTabStopId:C,onItemFocus:d.useCallback(a=>E(a),[E]),onItemShiftTab:d.useCallback(()=>G(!0),[]),onFocusableItemAdd:d.useCallback(()=>L(a=>a+1),[]),onFocusableItemRemove:d.useCallback(()=>L(a=>a-1),[]),children:(0,n.jsx)(j.sG.div,{tabIndex:F||0===K?-1:0,"data-orientation":f,...y,ref:A,style:{outline:"none",...a.style},onMouseDown:(0,e.mK)(a.onMouseDown,()=>{J.current=!0}),onFocus:(0,e.mK)(a.onFocus,a=>{let b=!J.current;if(a.target===a.currentTarget&&b&&!F){let b=new CustomEvent(o,p);if(a.currentTarget.dispatchEvent(b),!b.defaultPrevented){let a=I().filter(a=>a.focusable);D([a.find(a=>a.active),a.find(a=>a.id===C),...a].filter(Boolean).map(a=>a.ref.current),x)}}J.current=!1}),onBlur:(0,e.mK)(a.onBlur,()=>G(!1))})})}),A="RovingFocusGroupItem",B=d.forwardRef((a,b)=>{let{__scopeRovingFocusGroup:c,focusable:f=!0,active:g=!1,tabStopId:h,children:k,...l}=a,m=(0,i.B)(),o=h||m,p=x(A,c),q=p.currentTabStopId===o,t=s(c),{onFocusableItemAdd:u,onFocusableItemRemove:v,currentTabStopId:w}=p;return d.useEffect(()=>{if(f)return u(),()=>v()},[f,u,v]),(0,n.jsx)(r.ItemSlot,{scope:c,id:o,focusable:f,active:g,children:(0,n.jsx)(j.sG.span,{tabIndex:q?0:-1,"data-orientation":p.orientation,...l,ref:b,onMouseDown:(0,e.mK)(a.onMouseDown,a=>{f?p.onItemFocus(o):a.preventDefault()}),onFocus:(0,e.mK)(a.onFocus,()=>p.onItemFocus(o)),onKeyDown:(0,e.mK)(a.onKeyDown,a=>{if("Tab"===a.key&&a.shiftKey)return void p.onItemShiftTab();if(a.target!==a.currentTarget)return;let b=function(a,b,c){var d;let e=(d=a.key,"rtl"!==c?d:"ArrowLeft"===d?"ArrowRight":"ArrowRight"===d?"ArrowLeft":d);if(!("vertical"===b&&["ArrowLeft","ArrowRight"].includes(e))&&!("horizontal"===b&&["ArrowUp","ArrowDown"].includes(e)))return C[e]}(a,p.orientation,p.dir);if(void 0!==b){if(a.metaKey||a.ctrlKey||a.altKey||a.shiftKey)return;a.preventDefault();let c=t().filter(a=>a.focusable).map(a=>a.ref.current);if("last"===b)c.reverse();else if("prev"===b||"next"===b){"prev"===b&&c.reverse();let d=c.indexOf(a.currentTarget);c=p.loop?function(a,b){return a.map((c,d)=>a[(b+d)%a.length])}(c,d+1):c.slice(d+1)}setTimeout(()=>D(c))}}),children:"function"==typeof k?k({isCurrentTabStop:q,hasTabStop:null!=w}):k})})});B.displayName=A;var C={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function D(a,b=!1){let c=document.activeElement;for(let d of a)if(d===c||(d.focus({preventScroll:b}),document.activeElement!==c))return}var E=y,F=B},68862:a=>{a.exports={budgetOverview:"budget-overview_budgetOverview__D9PEv",budgetProgress:"budget-overview_budgetProgress__6YEDf",budgetProgressBar:"budget-overview_budgetProgressBar__off1a",budgetProgressFill:"budget-overview_budgetProgressFill__T4Oqi",budgetLabels:"budget-overview_budgetLabels__kcfYE",budgetRemaining:"budget-overview_budgetRemaining__23DaD",incomeColor:"budget-overview_incomeColor__66Esv",expenseColor:"budget-overview_expenseColor__9P3r9"}},70905:a=>{a.exports={header:"page-header_header__LWTx2",backButton:"page-header_backButton__MXBy6",headerCenter:"page-header_headerCenter__FpQ7W",title:"page-header_title__Ws1VT",subtitle:"page-header_subtitle__fHcsX",subtitleText:"page-header_subtitleText__gRl4D",backIcon:"page-header_backIcon__DyG0u"}},74433:(a,b,c)=>{"use strict";c.d(b,{default:()=>b5});var d=c(13486),e=c(60159),f=c(2984),g=c(95181),h=c(90265),i=c(38874),j=c(77449),k=c(98116),l=c(39800),m=c(27892),n=c(31755),o=c(75309),p=c(47494),q=c(21714),r=c(44611),s=c(85203);function t(a){return(0,s.j)(),null}c(82407);var u=c(49969),v=c(19611),w=["layout"];function x(){return(x=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)({}).hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(null,arguments)}var y={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},z=(0,e.forwardRef)(function(a,b){var c,d=(0,v.e)(a.categoricalChartProps,y),{layout:f}=d,g=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(d,w),{chartName:h,defaultTooltipEventType:i,validateTooltipEventTypes:j,tooltipPayloadSearcher:k}=a;return e.createElement(o.J,{preloadedState:{options:{chartName:h,defaultTooltipEventType:i,validateTooltipEventTypes:j,tooltipPayloadSearcher:k,eventEmitter:void 0}},reduxStoreName:null!=(c=d.id)?c:h},e.createElement(p.TK,{chartData:d.data}),e.createElement(q.s,{layout:f,margin:d.margin}),e.createElement(r.p,{accessibilityLayer:d.accessibilityLayer,barCategoryGap:d.barCategoryGap,maxBarSize:d.maxBarSize,stackOffset:d.stackOffset,barGap:d.barGap,barSize:d.barSize,syncId:d.syncId,syncMethod:d.syncMethod,className:d.className}),e.createElement(t,{cx:d.cx,cy:d.cy,startAngle:d.startAngle,endAngle:d.endAngle,innerRadius:d.innerRadius,outerRadius:d.outerRadius}),e.createElement(u.L,x({},g,{ref:b})))}),A=["item"],B={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},C=(0,e.forwardRef)((a,b)=>{var c=(0,v.e)(a,B);return e.createElement(z,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:A,tooltipPayloadSearcher:n.uN,categoricalChartProps:c,ref:b})}),D=c(70975),E=c.n(D),F=c(4627),G=c(35987),H=c(296),I=c(26396),J=c(82671),K=c(22766),L=c(46120),M=c(12368),N=c(91273),O=c(73128),P=a=>a.graphicalItems.polarItems,Q=(0,G.Mz)([M.N,N.E],K.eo),R=(0,G.Mz)([P,K.DP,Q],K.ec),S=(0,G.Mz)([R],K.rj),T=(0,G.Mz)([S,H.z3],K.Nk),U=(0,G.Mz)([T,K.DP,R],K.fb);(0,G.Mz)([T,K.DP,R],(a,b,c)=>c.length>0?a.flatMap(a=>c.flatMap(c=>{var d;return{value:(0,J.kr)(a,null!=(d=b.dataKey)?d:c.dataKey),errorDomain:[]}})).filter(Boolean):(null==b?void 0:b.dataKey)!=null?a.map(a=>({value:(0,J.kr)(a,b.dataKey),errorDomain:[]})):a.map(a=>({value:a,errorDomain:[]})));var V=()=>void 0,W=(0,G.Mz)([T,K.DP,R,K.CH,M.N],K.EZ),X=(0,G.Mz)([K.DP,K.AV,K.Lu,V,W,V,L.fz,M.N],K.wL),Y=(0,G.Mz)([K.DP,L.fz,T,U,O.eC,M.N,X],K.tP),Z=(0,G.Mz)([Y,K.DP,K.xM],K.xp);function $(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?$(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):$(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}(0,G.Mz)([K.DP,Y,Z,M.N],K.g1);var aa=(0,G.Mz)([P,(a,b)=>b],(a,b)=>a.filter(a=>"pie"===a.type).find(a=>a.id===b)),ab=[],ac=(a,b,c)=>(null==c?void 0:c.length)===0?ab:c,ad=(0,G.Mz)([H.z3,aa,ac],(a,b,c)=>{var d,{chartData:e}=a;if(null!=b&&((d=(null==b?void 0:b.data)!=null&&b.data.length>0?b.data:e)&&d.length||null==c||(d=c.map(a=>_(_({},b.presentationProps),a.props))),null!=d))return d}),ae=(0,G.Mz)([ad,aa,ac],(a,b,c)=>{if(null!=a&&null!=b)return a.map((a,d)=>{var e,f,g=(0,J.kr)(a,b.nameKey,b.name);return f=null!=c&&null!=(e=c[d])&&null!=(e=e.props)&&e.fill?c[d].props.fill:"object"==typeof a&&null!=a&&"fill"in a?a.fill:b.fill,{value:(0,J.uM)(g,b.dataKey),color:f,payload:a,type:b.legendType}})}),af=(0,G.Mz)([ad,aa,ac,I.HZ],(a,b,c,d)=>{if(null!=b&&null!=a)return function(a){var b,c,d,{pieSettings:e,displayedData:f,cells:g,offset:h}=a,{cornerRadius:i,startAngle:j,endAngle:k,dataKey:l,nameKey:m,tooltipType:n}=e,o=Math.abs(e.minAngle),p=(0,an.sA)(k-j)*Math.min(Math.abs(k-j),360),q=Math.abs(p),r=f.length<=1?0:null!=(b=e.paddingAngle)?b:0,s=f.filter(a=>0!==(0,J.kr)(a,l,0)).length,t=q-s*o-(q>=360?s:s-1)*r,u=f.reduce((a,b)=>{var c=(0,J.kr)(b,l,0);return a+((0,an.Et)(c)?c:0)},0);return u>0&&(c=f.map((a,b)=>{var c,f=(0,J.kr)(a,l,0),k=(0,J.kr)(a,m,b),q=((a,b,c)=>{let d,e,f;var{top:g,left:h,width:i,height:j}=b,k=(0,am.lY)(i,j),l=h+(0,an.F4)(a.cx,i,i/2),m=g+(0,an.F4)(a.cy,j,j/2),n=(0,an.F4)(a.innerRadius,k,0);return{cx:l,cy:m,innerRadius:n,outerRadius:(d=c,e=a.outerRadius,f=k,"function"==typeof e?(0,an.F4)(e(d),f,.8*f):(0,an.F4)(e,f,.8*f)),maxRadius:a.maxRadius||Math.sqrt(i*i+j*j)/2}})(e,h,a),s=((0,an.Et)(f)?f:0)/u,v=aY(aY({},a),g&&g[b]&&g[b].props),w=(c=b?d.endAngle+(0,an.sA)(p)*r*(0!==f):j)+(0,an.sA)(p)*((0!==f?o:0)+s*t),x=(c+w)/2,y=(q.innerRadius+q.outerRadius)/2,z=[{name:k,value:f,payload:v,dataKey:l,type:n}],A=(0,am.IZ)(q.cx,q.cy,y,x);return d=aY(aY(aY(aY({},e.presentationProps),{},{percent:s,cornerRadius:i,name:k,tooltipPayload:z,midAngle:x,middleRadius:y,tooltipPosition:A},v),q),{},{value:f,startAngle:c,endAngle:w,payload:v,paddingAngle:(0,an.sA)(p)*r})})),c}({offset:d,pieSettings:b,displayedData:a,cells:c})}),ag=c(59928),ah=c(87610),ai=c(21301),aj=a=>null;aj.displayName="Cell";var ak=c(4324),al=c(34519),am=c(39225),an=c(85763),ao=c(64343),ap=c(23032),aq=c.n(ap),ar=c(57942),as=c(57537),at=c(64118),au=c(46690),av=c(64417);function aw(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function ax(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?aw(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):aw(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function ay(){return(ay=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)({}).hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(null,arguments)}var az=(a,b,c,d,e)=>{var f=c-d;return"M ".concat(a,",").concat(b)+"L ".concat(a+c,",").concat(b)+"L ".concat(a+c-f/2,",").concat(b+e)+"L ".concat(a+c-f/2-d,",").concat(b+e)+"L ".concat(a,",").concat(b," Z")},aA={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},aB=a=>{var b=(0,v.e)(a,aA),{x:c,y:d,upperWidth:f,lowerWidth:g,height:h,className:i}=b,{animationEasing:j,animationDuration:k,animationBegin:l,isUpdateAnimationActive:m}=b,n=(0,e.useRef)(null),[o,p]=(0,e.useState)(-1),q=(0,e.useRef)(f),r=(0,e.useRef)(g),s=(0,e.useRef)(h),t=(0,e.useRef)(c),u=(0,e.useRef)(d),w=(0,at.n)(a,"trapezoid-");if((0,e.useEffect)(()=>{if(n.current&&n.current.getTotalLength)try{var a=n.current.getTotalLength();a&&p(a)}catch(a){}},[]),c!==+c||d!==+d||f!==+f||g!==+g||h!==+h||0===f&&0===g||0===h)return null;var x=(0,F.$)("recharts-trapezoid",i);if(!m)return e.createElement("g",null,e.createElement("path",ay({},(0,av.a)(b),{className:x,d:az(c,d,f,g,h)})));var y=q.current,z=r.current,A=s.current,B=t.current,C=u.current,D="0px ".concat(-1===o?1:o,"px"),E="".concat(o,"px 0px"),G=(0,au.dl)(["strokeDasharray"],k,j);return e.createElement(as.J,{animationId:w,key:w,canBegin:o>0,duration:k,easing:j,isActive:m,begin:l},a=>{var i=(0,an.GW)(y,f,a),j=(0,an.GW)(z,g,a),k=(0,an.GW)(A,h,a),l=(0,an.GW)(B,c,a),m=(0,an.GW)(C,d,a);n.current&&(q.current=i,r.current=j,s.current=k,t.current=l,u.current=m);var o=a>0?{transition:G,strokeDasharray:E}:{strokeDasharray:D};return e.createElement("path",ay({},(0,av.a)(b),{className:x,d:az(l,m,i,j,k),ref:n,style:ax(ax({},o),b.style)}))})},aC=c(28609),aD=c(85084),aE=["option","shapeType","propTransformer","activeClassName","isActive"];function aF(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function aG(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?aF(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):aF(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function aH(a,b){return aG(aG({},b),a)}function aI(a){var{shapeType:b,elementProps:c}=a;switch(b){case"rectangle":return e.createElement(ar.M,c);case"trapezoid":return e.createElement(aB,c);case"sector":return e.createElement(aC.h,c);case"symbols":if("symbols"===b)return e.createElement(aD.i,c);break;default:return null}}function aJ(a){var b,{option:c,shapeType:d,propTransformer:f=aH,activeClassName:g="recharts-active-shape",isActive:h}=a,i=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,aE);if((0,e.isValidElement)(c))b=(0,e.cloneElement)(c,aG(aG({},i),(0,e.isValidElement)(c)?c.props:c));else if("function"==typeof c)b=c(i);else if(aq()(c)&&"boolean"!=typeof c){var j=f(c,i);b=e.createElement(aI,{shapeType:d,elementProps:j})}else b=e.createElement(aI,{shapeType:d,elementProps:i});return h?e.createElement(ag.W,{className:g},b):b}var aK=c(31068),aL=c(88999),aM=c(43821),aN=c(13418),aO=c(11611),aP=c(2592),aQ=c(27297),aR=c(98083),aS=c(50671),aT=["onMouseEnter","onClick","onMouseLeave"],aU=["id"],aV=["id"];function aW(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function aX(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function aY(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?aX(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):aX(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function aZ(){return(aZ=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)({}).hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(null,arguments)}function a$(a){var b=(0,e.useMemo)(()=>(0,ak.aS)(a.children,aj),[a.children]),c=(0,s.G)(c=>ae(c,a.id,b));return null==c?null:e.createElement(aN._,{legendPayload:c})}function a_(a){var{dataKey:b,nameKey:c,sectors:d,stroke:e,strokeWidth:f,fill:g,name:h,hide:i,tooltipType:j}=a;return{dataDefinedOnItem:d.map(a=>a.tooltipPayload),positions:d.map(a=>a.tooltipPosition),settings:{stroke:e,strokeWidth:f,fill:g,dataKey:b,nameKey:c,name:(0,J.uM)(h,b),hide:i,type:j,color:g,unit:""}}}function a0(a){var{sectors:b,props:c,showLabels:d}=a,{label:f,labelLine:g,dataKey:h}=c;if(!d||!f||!b)return null;var i=(0,aR.uZ)(c),j=(0,aR.ic)(f),k=(0,aR.ic)(g),l="object"==typeof f&&"offsetRadius"in f&&"number"==typeof f.offsetRadius&&f.offsetRadius||20,m=b.map((a,b)=>{var c,d,m=(a.startAngle+a.endAngle)/2,n=(0,am.IZ)(a.cx,a.cy,a.outerRadius+l,m),o=aY(aY(aY(aY({},i),a),{},{stroke:"none"},j),{},{index:b,textAnchor:(c=n.x)>(d=a.cx)?"start":c<d?"end":"middle"},n),p=aY(aY(aY(aY({},i),a),{},{fill:"none",stroke:a.fill},k),{},{index:b,points:[(0,am.IZ)(a.cx,a.cy,a.outerRadius,m),n],key:"line"});return e.createElement(ag.W,{key:"label-".concat(a.startAngle,"-").concat(a.endAngle,"-").concat(a.midAngle,"-").concat(b)},g&&((a,b)=>{if(e.isValidElement(a))return e.cloneElement(a,b);if("function"==typeof a)return a(b);var c=(0,F.$)("recharts-pie-label-line","boolean"!=typeof a?a.className:"");return e.createElement(ah.I,aZ({},b,{type:"linear",className:c}))})(g,p),((a,b,c)=>{if(e.isValidElement(a))return e.cloneElement(a,b);var d,f=c;if("function"==typeof a&&(f=a(b),e.isValidElement(f)))return f;var g=(0,F.$)("recharts-pie-label-text",(d=a)&&"object"==typeof d&&"className"in d&&"string"==typeof d.className?d.className:"");return e.createElement(ai.E,aZ({},b,{alignmentBaseline:"middle",className:g}),f)})(f,o,(0,J.kr)(a,h)))});return e.createElement(ag.W,{className:"recharts-pie-labels"},m)}function a1(a){var{sectors:b,props:c,showLabels:d}=a,{label:f}=c;return"object"==typeof f&&null!=f&&"position"in f?e.createElement(aS.qY,{label:f}):e.createElement(a0,{sectors:b,props:c,showLabels:d})}function a2(a){var b,c,d,f,g,{sectors:h,activeShape:i,inactiveShape:j,allOtherPieProps:k}=a,l=(0,s.G)(aM.A2),{onMouseEnter:m,onClick:n,onMouseLeave:o}=k,p=aW(k,aT),q=(b=k.dataKey,c=(0,s.j)(),(a,d)=>e=>{null==m||m(a,d,e),c((0,aK.RD)({activeIndex:String(d),activeDataKey:b,activeCoordinate:a.tooltipPosition}))}),r=(d=(0,s.j)(),(a,b)=>c=>{null==o||o(a,b,c),d((0,aK.oP)())}),t=(f=k.dataKey,g=(0,s.j)(),(a,b)=>c=>{null==n||n(a,b,c),g((0,aK.ML)({activeIndex:String(b),activeDataKey:f,activeCoordinate:a.tooltipPosition}))});return null==h||0===h.length?null:e.createElement(e.Fragment,null,h.map((a,b)=>{if((null==a?void 0:a.startAngle)===0&&(null==a?void 0:a.endAngle)===0&&1!==h.length)return null;var c=i&&String(b)===l,d=c?i:l?j:null,f=aY(aY({},a),{},{stroke:a.stroke,tabIndex:-1,[aO.F0]:b,[aO.um]:k.dataKey});return e.createElement(ag.W,aZ({key:"sector-".concat(null==a?void 0:a.startAngle,"-").concat(null==a?void 0:a.endAngle,"-").concat(a.midAngle,"-").concat(b),tabIndex:-1,className:"recharts-pie-sector"},(0,ao.X)(p,a,b),{onMouseEnter:q(a,b),onMouseLeave:r(a,b),onClick:t(a,b)}),e.createElement(aJ,aZ({option:d,isActive:c,shapeType:"sector"},f)))}))}function a3(a){var{showLabels:b,sectors:c,children:d}=a,f=(0,e.useMemo)(()=>b&&c?c.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})):[],[c,b]);return e.createElement(aS.dL,{value:b?f:void 0},d)}function a4(a){var{props:b,previousSectorsRef:c}=a,{sectors:d,isAnimationActive:f,animationBegin:g,animationDuration:h,animationEasing:i,activeShape:j,inactiveShape:k,onAnimationStart:l,onAnimationEnd:m}=b,n=(0,at.n)(b,"recharts-pie-"),o=c.current,[p,q]=(0,e.useState)(!1),r=(0,e.useCallback)(()=>{"function"==typeof m&&m(),q(!1)},[m]),s=(0,e.useCallback)(()=>{"function"==typeof l&&l(),q(!0)},[l]);return e.createElement(a3,{showLabels:!p,sectors:d},e.createElement(as.J,{animationId:n,begin:g,duration:h,isActive:f,easing:i,onAnimationStart:s,onAnimationEnd:r,key:n},a=>{var f=[],g=d&&d[0],h=null==g?void 0:g.startAngle;return null==d||d.forEach((b,c)=>{var d=o&&o[c],e=c>0?E()(b,"paddingAngle",0):0;if(d){var g=(0,an.GW)(d.endAngle-d.startAngle,b.endAngle-b.startAngle,a),i=aY(aY({},b),{},{startAngle:h+e,endAngle:h+g+e});f.push(i),h=i.endAngle}else{var{endAngle:j,startAngle:k}=b,l=(0,an.GW)(0,j-k,a),m=aY(aY({},b),{},{startAngle:h+e,endAngle:h+l+e});f.push(m),h=m.endAngle}}),c.current=f,e.createElement(ag.W,null,e.createElement(a2,{sectors:f,activeShape:j,inactiveShape:k,allOtherPieProps:b}))}),e.createElement(a1,{showLabels:!p,sectors:d,props:b}),b.children)}var a5={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!al.m.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function a6(a){var{id:b}=a,c=aW(a,aU),{hide:d,className:f,rootTabIndex:g}=a,h=(0,e.useMemo)(()=>(0,ak.aS)(a.children,aj),[a.children]),i=(0,s.G)(a=>af(a,b,h)),j=(0,e.useRef)(null),k=(0,F.$)("recharts-pie",f);return d||null==i?(j.current=null,e.createElement(ag.W,{tabIndex:g,className:k})):e.createElement(e.Fragment,null,e.createElement(aL.r,{fn:a_,args:aY(aY({},a),{},{sectors:i})}),e.createElement(ag.W,{tabIndex:g,className:k},e.createElement(a4,{props:aY(aY({},c),{},{sectors:i}),previousSectorsRef:j})))}function a7(a){var b=(0,v.e)(a,a5),{id:c}=b,d=aW(b,aV),f=(0,aR.uZ)(d);return e.createElement(aP.x,{id:c,type:"pie"},a=>e.createElement(e.Fragment,null,e.createElement(aQ.v,{type:"pie",id:a,data:d.data,dataKey:d.dataKey,hide:d.hide,angleAxisId:0,radiusAxisId:0,name:d.name,nameKey:d.nameKey,tooltipType:d.tooltipType,legendType:d.legendType,fill:d.fill,cx:d.cx,cy:d.cy,startAngle:d.startAngle,endAngle:d.endAngle,paddingAngle:d.paddingAngle,minAngle:d.minAngle,innerRadius:d.innerRadius,outerRadius:d.outerRadius,cornerRadius:d.cornerRadius,presentationProps:f,maxRadius:b.maxRadius}),e.createElement(a$,aZ({},d,{id:a})),e.createElement(a6,aZ({},d,{id:a}))))}a7.displayName="Pie";var a8=c(11226),a9=c(54422),ba=c.n(a9);let bb=({data:a,categoryConfig:b,currency:c})=>{let[f,g]=(0,e.useState)(null),h=a.map(a=>({name:b[a.category]?.label||"Other",value:a.amount,percentage:a.percentage,category:a.category}));return(0,d.jsxs)("div",{className:ba().pieChartWrapper,children:[(0,d.jsx)("div",{className:ba().pieChartContainer,children:(0,d.jsx)(m.u,{width:"100%",height:300,children:(0,d.jsxs)(C,{children:[(0,d.jsx)(a7,{data:h,cx:"50%",cy:"50%",labelLine:!1,outerRadius:100,fill:"#8884d8",dataKey:"value",onMouseEnter:(a,b)=>g(b),onMouseLeave:()=>g(null),children:h.map((a,c)=>{let e=b[a.category]||b.other;return(0,d.jsx)(aj,{fill:e.color,opacity:null===f||f===c?1:.6,stroke:f===c?e.color:"none",strokeWidth:3*(f===c)},`cell-${c}`)})}),(0,d.jsx)(a8.m,{content:(0,d.jsx)(({active:a,payload:b})=>{if(a&&b&&b.length){let a=b[0].payload;return(0,d.jsxs)("div",{className:ba().pieTooltipContent,children:[(0,d.jsx)("div",{className:ba().pieTooltipTitle,children:a.name}),(0,d.jsx)("div",{className:ba().pieTooltipValue,children:(0,k.v)(a.value,c)}),(0,d.jsxs)("div",{className:ba().pieTooltipPercentage,children:[a.percentage.toFixed(1),"%"]})]})}return null},{})})]})})}),(0,d.jsx)("div",{className:ba().pieLegend,children:h.map((a,c)=>{let e=b[a.category]||b.other;return(0,d.jsxs)("div",{className:`${ba().pieLegendItem} ${f===c?ba().pieLegendItemHover:""}`,onMouseEnter:()=>g(c),onMouseLeave:()=>g(null),children:[(0,d.jsx)("div",{className:ba().pieLegendColor,style:{backgroundColor:e.color}}),(0,d.jsx)("span",{className:ba().pieLegendLabel,children:e.label}),(0,d.jsxs)("span",{className:ba().pieLegendPercentage,children:[a.percentage.toFixed(1),"%"]})]},a.category)})})]})};var bc=c(68466),bd=c(15209),be=c(35330),bf=c.n(be);let bg=({totalIncome:a,totalExpense:b,netBalance:c,incomeTransactionCount:e,expenseTransactionCount:f,currency:g})=>(0,d.jsxs)("div",{className:bf().statsGrid,children:[(0,d.jsxs)("div",{className:bf().statsCard,children:[(0,d.jsx)("div",{className:bf().statsCardHeader,children:(0,d.jsx)("div",{className:bf().statsCardTitle,children:"\uD83D\uDCB0 Total Income"})}),(0,d.jsxs)("div",{className:bf().statsCardContent,children:[(0,d.jsx)("div",{className:`${bf().statsValue} ${bf().incomeColor}`,children:(0,k.v)(a,g)}),(0,d.jsxs)("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:"4px"},children:[e," transactions"]})]})]}),(0,d.jsxs)("div",{className:bf().statsCard,children:[(0,d.jsx)("div",{className:bf().statsCardHeader,children:(0,d.jsx)("div",{className:bf().statsCardTitle,children:"\uD83D\uDCB8 Total Expenses"})}),(0,d.jsxs)("div",{className:bf().statsCardContent,children:[(0,d.jsx)("div",{className:`${bf().statsValue} ${bf().expenseColor}`,children:(0,k.v)(b,g)}),(0,d.jsxs)("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:"4px"},children:[f," transactions"]})]})]}),(0,d.jsxs)("div",{className:bf().statsCard,children:[(0,d.jsx)("div",{className:bf().statsCardHeader,children:(0,d.jsx)("div",{className:bf().statsCardTitle,children:"\uD83D\uDCCA Net Balance"})}),(0,d.jsxs)("div",{className:bf().statsCardContent,children:[(0,d.jsx)("div",{className:`${bf().statsValue} ${c>=0?bf().incomeColor:bf().expenseColor}`,children:(0,k.v)(c,g)}),(0,d.jsx)("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:"4px"},children:c>=0?"Positive cash flow":"Negative cash flow"})]})]})]}),bh={grocery:"Food",supermarket:"Food",food:"Food",gas:"Transport",fuel:"Transport",petrol:"Transport",restaurant:"Dining",cafe:"Dining",dining:"Dining",shop:"Shopping",store:"Shopping",retail:"Shopping",utility:"Utilities",electric:"Utilities",water:"Utilities",internet:"Utilities",rent:"Housing",mortgage:"Housing",housing:"Housing",medical:"Healthcare",hospital:"Healthcare",pharmacy:"Healthcare",entertainment:"Entertainment",movie:"Entertainment",game:"Entertainment"};var bi=c(62028),bj=c.n(bi);let bk=({categoryData:a,currency:b,customCategories:c,onAddCategory:f,onDeleteCategory:g})=>{let[h,i]=(0,e.useState)(!1),[j,m]=(0,e.useState)(""),[n,o]=(0,e.useState)(""),[p,q]=(0,e.useState)(!1),[r,s]=(0,e.useState)(""),t=(0,l.P)(c),u=(0,e.useMemo)(()=>{let b=[...a];return c.forEach(a=>{let c=`custom_${a.id}`;b.find(a=>a.category===c)||b.push({category:c,amount:0,percentage:0,count:0})}),b.sort((a,b)=>b.amount-a.amount)},[a,c]),v=async()=>{if(!j.trim()||!n.trim())return;let a=n.split(",").map(a=>a.trim()).filter(a=>a.length>0),b=function(a,b,c){let d=[],e=a.map(a=>a.toLowerCase().trim());for(let a of e){let b=bh[a];b&&d.push({keyword:a,categoryName:b,isDefault:!0})}for(let a of b)if(1)for(let b of a.keywords){let c=b.toLowerCase().trim();e.includes(c)&&d.push({keyword:b,categoryName:a.name,isDefault:!1})}return{isValid:0===d.length,conflicts:d}}(a,c);if(!b.isValid)return void s(b.conflicts.map(a=>a.isDefault?`Keyword "${a.keyword}" already captured under ${a.categoryName} category.`:`Keyword "${a.keyword}" already used in "${a.categoryName}" custom category.`).join(" "));q(!0),s("");try{await f(j.trim(),a),m(""),o(""),i(!1)}catch(a){console.error("Failed to add category:",a),s("Failed to add category. Please try again.")}finally{q(!1)}},w=async a=>{if(!a.startsWith("custom_"))return;let b=a.replace("custom_","");if(confirm("Delete this custom category?")){q(!0);try{await g(b)}catch(a){console.error("Failed to delete category:",a)}finally{q(!1)}}};return 0===a.length&&0===c.length?(0,d.jsxs)("div",{className:bj().container,children:[h&&(0,d.jsxs)("div",{className:bj().addForm,children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("input",{type:"text",placeholder:"Category name",value:j,onChange:a=>m(a.target.value),className:bj().input,disabled:p}),(0,d.jsx)("input",{type:"text",placeholder:"Keywords (comma-separated)",value:n,onChange:a=>{o(a.target.value),s("")},className:bj().input,disabled:p}),(0,d.jsxs)("div",{className:bj().formButtons,children:[(0,d.jsx)("button",{onClick:v,className:bj().saveBtn,disabled:p,children:p?"...":""}),(0,d.jsx)("button",{onClick:()=>{i(!1),s("")},className:bj().cancelBtn,disabled:p,children:""})]})]}),r&&(0,d.jsx)("div",{className:bj().error,children:r})]}),!h&&(0,d.jsx)("button",{onClick:()=>i(!0),className:bj().addButton,children:" Add Custom Category"}),(0,d.jsxs)("div",{className:bj().noData,children:[(0,d.jsx)("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"\uD83D\uDCC8"}),"No expense data for this period"]})]}):(0,d.jsxs)("div",{className:bj().container,children:[h&&(0,d.jsxs)("div",{className:bj().addForm,children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("input",{type:"text",placeholder:"Category name",value:j,onChange:a=>m(a.target.value),className:bj().input,disabled:p}),(0,d.jsx)("input",{type:"text",placeholder:"Keywords (comma-separated)",value:n,onChange:a=>{o(a.target.value),s("")},className:bj().input,disabled:p}),(0,d.jsxs)("div",{className:bj().formButtons,children:[(0,d.jsx)("button",{onClick:v,className:bj().saveBtn,disabled:p,children:p?"...":""}),(0,d.jsx)("button",{onClick:()=>{i(!1),s("")},className:bj().cancelBtn,disabled:p,children:""})]})]}),r&&(0,d.jsx)("div",{className:bj().error,children:r})]}),!h&&(0,d.jsx)("button",{onClick:()=>i(!0),className:bj().addButton,children:""}),(0,d.jsx)("div",{className:bj().categoryList,children:u.slice(0,10).map(a=>{let c=t[a.category]||t.other,e=a.category.startsWith("custom_");return(0,d.jsxs)("div",{className:bj().categoryItem,children:[(0,d.jsxs)("div",{className:bj().categoryItemLeft,children:[(0,d.jsx)("div",{className:bj().categoryColor,style:{backgroundColor:c.color}}),(0,d.jsx)("span",{className:bj().categoryLabel,children:c.label})]}),(0,d.jsxs)("div",{className:bj().categoryItemRight,children:[(0,d.jsxs)("span",{className:bj().categoryPercentage,children:[a.percentage.toFixed(1),"%"]}),(0,d.jsx)("span",{className:bj().categoryAmount,children:(0,k.v)(a.amount,b)}),e&&(0,d.jsx)("button",{onClick:()=>w(a.category),className:bj().deleteBtn,disabled:p,title:"Delete category",children:""})]})]},a.category)})})]})};var bl=c(68862),bm=c.n(bl);let bn=({monthlyExpense:a,totalBudgetLimit:b,currency:c})=>(0,d.jsx)("div",{className:bm().budgetOverview,children:(0,d.jsxs)("div",{className:bm().budgetProgress,children:[(0,d.jsx)("div",{className:bm().budgetProgressBar,children:(0,d.jsx)("div",{className:bm().budgetProgressFill,style:{width:`${Math.min(a/b*100,100)}%`,background:a>b?"linear-gradient(90deg, #ef4444, #dc2626)":"linear-gradient(90deg, #10b981, #059669)"}})}),(0,d.jsxs)("div",{className:bm().budgetLabels,children:[(0,d.jsxs)("span",{children:["\uD83D\uDCB8 Spent: ",(0,k.v)(a,c)]}),(0,d.jsxs)("span",{children:["\uD83C\uDFAF Budget: ",(0,k.v)(b,c)]})]}),(0,d.jsx)("div",{className:bm().budgetRemaining,children:(0,d.jsx)("span",{className:a<=b?bm().incomeColor:bm().expenseColor,children:a<=b?` ${(0,k.v)(b-a,c)} remaining`:` ${(0,k.v)(a-b,c)} over budget`})})]})});var bo=c(93898),bp=c.n(bo);let bq=({currentMonthAverage:a,prevMonthAverage:b,currentMonthName:c,prevMonthName:e,currency:f})=>{let g=a-b,h=g<0;return(0,d.jsxs)("div",{className:bp().comparisonStat,children:[(0,d.jsx)("div",{style:{fontSize:"16px",fontWeight:"600",color:"#374151",marginBottom:"12px"},children:"Average Daily Spending"}),(0,d.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:"16px",alignItems:"center",marginBottom:"12px",flexWrap:"wrap",justifyContent:"center"},children:[(0,d.jsxs)("div",{style:{flex:"1",minWidth:"120px",textAlign:"center"},children:[(0,d.jsx)("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Current Month"}),(0,d.jsxs)("div",{style:{fontSize:"20px",fontWeight:"700",color:"#1f2937"},children:[(0,k.v)(Math.round(a),f),"/day"]})]}),(0,d.jsx)("div",{style:{fontSize:"20px",color:"#d1d5db"},children:""}),(0,d.jsxs)("div",{style:{flex:"1",minWidth:"120px",textAlign:"center"},children:[(0,d.jsx)("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Previous Month"}),(0,d.jsxs)("div",{style:{fontSize:"20px",fontWeight:"700",color:"#6b7280"},children:[(0,k.v)(Math.round(b),f),"/day"]})]})]}),(0,d.jsx)("div",{style:{padding:"12px 16px",borderRadius:"8px",background:h?"rgba(16, 185, 129, 0.1)":"rgba(239, 68, 68, 0.1)",textAlign:"center"},children:(0,d.jsxs)("span",{className:`${bp().comparisonValue} ${h?bp().incomeColor:bp().expenseColor}`,style:{fontSize:"14px"},children:[h?"\uD83D\uDCC9 ":"\uD83D\uDCC8 ",h?"Saving ":"Spending ",(0,k.v)(Math.abs(Math.round(g)),f)," more per day"," ","(",Math.abs(b>0?g/b*100:0).toFixed(1),"% ",h?"less":"more",")"]})})]})};var br=c(76590),bs=c.n(br);let bt=({title:a,description:b,children:c})=>(0,d.jsxs)("div",{className:bs().card,children:[(0,d.jsxs)("div",{className:bs().cardHeader,children:[(0,d.jsx)("h2",{className:bs().cardTitle,children:a}),(0,d.jsx)("p",{className:bs().cardDescription,children:b})]}),(0,d.jsx)("div",{className:bs().cardContent,children:c})]});var bu=c(16918),bv=c(16692),bw=c(54876),bx=c(26716),by=c(86135),bz=c(66634),bA=c(27134),bB=c(64935),bC=c(78998),bD=c(94108),bE=c(88200),bF=c(40594),bG=c(32194),bH="Tabs",[bI,bJ]=(0,bA.A)(bH,[bB.RG]),bK=(0,bB.RG)(),[bL,bM]=bI(bH),bN=e.forwardRef((a,b)=>{let{__scopeTabs:c,value:e,onValueChange:f,defaultValue:g,orientation:h="horizontal",dir:i,activationMode:j="automatic",...k}=a,l=(0,bE.jH)(i),[m,n]=(0,bF.i)({prop:e,onChange:f,defaultProp:g??"",caller:bH});return(0,d.jsx)(bL,{scope:c,baseId:(0,bG.B)(),value:m,onValueChange:n,orientation:h,dir:l,activationMode:j,children:(0,d.jsx)(bD.sG.div,{dir:l,"data-orientation":h,...k,ref:b})})});bN.displayName=bH;var bO="TabsList",bP=e.forwardRef((a,b)=>{let{__scopeTabs:c,loop:e=!0,...f}=a,g=bM(bO,c),h=bK(c);return(0,d.jsx)(bB.bL,{asChild:!0,...h,orientation:g.orientation,dir:g.dir,loop:e,children:(0,d.jsx)(bD.sG.div,{role:"tablist","aria-orientation":g.orientation,...f,ref:b})})});bP.displayName=bO;var bQ="TabsTrigger",bR=e.forwardRef((a,b)=>{let{__scopeTabs:c,value:e,disabled:f=!1,...g}=a,h=bM(bQ,c),i=bK(c),j=bU(h.baseId,e),k=bV(h.baseId,e),l=e===h.value;return(0,d.jsx)(bB.q7,{asChild:!0,...i,focusable:!f,active:l,children:(0,d.jsx)(bD.sG.button,{type:"button",role:"tab","aria-selected":l,"aria-controls":k,"data-state":l?"active":"inactive","data-disabled":f?"":void 0,disabled:f,id:j,...g,ref:b,onMouseDown:(0,bz.mK)(a.onMouseDown,a=>{f||0!==a.button||!1!==a.ctrlKey?a.preventDefault():h.onValueChange(e)}),onKeyDown:(0,bz.mK)(a.onKeyDown,a=>{[" ","Enter"].includes(a.key)&&h.onValueChange(e)}),onFocus:(0,bz.mK)(a.onFocus,()=>{let a="manual"!==h.activationMode;l||f||!a||h.onValueChange(e)})})})});bR.displayName=bQ;var bS="TabsContent",bT=e.forwardRef((a,b)=>{let{__scopeTabs:c,value:f,forceMount:g,children:h,...i}=a,j=bM(bS,c),k=bU(j.baseId,f),l=bV(j.baseId,f),m=f===j.value,n=e.useRef(m);return e.useEffect(()=>{let a=requestAnimationFrame(()=>n.current=!1);return()=>cancelAnimationFrame(a)},[]),(0,d.jsx)(bC.C,{present:g||m,children:({present:c})=>(0,d.jsx)(bD.sG.div,{"data-state":m?"active":"inactive","data-orientation":j.orientation,role:"tabpanel","aria-labelledby":k,hidden:!c,id:l,tabIndex:0,...i,ref:b,style:{...a.style,animationDuration:n.current?"0s":void 0},children:c&&h})})});function bU(a,b){return`${a}-trigger-${b}`}function bV(a,b){return`${a}-content-${b}`}bT.displayName=bS;var bW=c(96171),bX=c(81969);let bY={size:{type:"enum",className:"rt-r-size",values:["1","2"],default:"2",responsive:!0},wrap:{type:"enum",className:"rt-r-fw",values:["nowrap","wrap","wrap-reverse"],responsive:!0},justify:{type:"enum",className:"rt-r-jc",values:["start","center","end"],responsive:!0},...bW._s,...bX.Z};var bZ=c(87160),b$=c(91683);let b_=e.forwardRef((a,b)=>{let{className:c,...d}=(0,bZ.o)(a,b$.y);return e.createElement(bN,{...d,ref:b,className:by("rt-TabsRoot",c)})});b_.displayName="Tabs.Root";let b0=e.forwardRef((a,b)=>{let{className:c,color:d,...f}=(0,bZ.o)(a,bY,b$.y);return e.createElement(bP,{"data-accent-color":d,...f,asChild:!1,ref:b,className:by("rt-BaseTabList","rt-TabsList",c)})});b0.displayName="Tabs.List";let b1=e.forwardRef((a,b)=>{let{className:c,children:d,...f}=a;return e.createElement(bR,{...f,asChild:!1,ref:b,className:by("rt-reset","rt-BaseTabListTrigger","rt-TabsTrigger",c)},e.createElement("span",{className:"rt-BaseTabListTriggerInner rt-TabsTriggerInner"},d),e.createElement("span",{className:"rt-BaseTabListTriggerInnerHidden rt-TabsTriggerInnerHidden"},d))});b1.displayName="Tabs.Trigger",e.forwardRef((a,b)=>{let{className:c,...d}=(0,bZ.o)(a,b$.y);return e.createElement(bT,{...d,ref:b,className:by("rt-TabsContent",c)})}).displayName="Tabs.Content";var b2=c(92153),b3=c(222),b4=c.n(b3);function b5({accounts:a,transactions:b,customCategories:c,profile:m,pageColor:n}){let{setBaseColor:o}=(0,i.Q)(),[p,q]=(0,e.useState)("all"),[r,s]=(0,e.useState)("month"),[t,u]=(0,e.useState)(!1),[v,w]=(0,e.useState)(c),x=(0,f.useParams)(),y=(0,f.useRouter)();x.customerId;let z=(0,e.useMemo)(()=>(0,l.P)(v),[v]),A=async(a,b,c)=>{try{let d=await fetch("/api/custom-categories",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a,keywords:b,color:c})});if(d.ok){let a=await d.json();w([...v,a]),y.refresh()}}catch(a){console.error("Failed to add category:",a)}},B=async a=>{try{(await fetch(`/api/custom-categories?id=${a}`,{method:"DELETE"})).ok&&(w(v.filter(b=>b.id!==a)),y.refresh())}catch(a){console.error("Failed to delete category:",a)}},C=(0,e.useMemo)(()=>{let a=b;return"all"!==p&&(a=b.filter(a=>a.accountUniqueId===p)),a.map(a=>{let b=parseFloat(a.amount);return{...a,numericAmount:Math.abs(b),type:b<0?"expense":"income",category:b<0?(0,j.Y)(a.narration,v):"income",date:new Date(a.bookedDate)}})},[b,p,v]),D=(0,e.useMemo)(()=>{let a=new Date;return C.filter(b=>{let c=b.date;switch(r){case"day":return c.getDate()===a.getDate()&&c.getMonth()===a.getMonth()&&c.getFullYear()===a.getFullYear();case"month":return c.getMonth()===a.getMonth()&&c.getFullYear()===a.getFullYear();case"year":return c.getFullYear()===a.getFullYear();default:return!0}})},[C,r]),E=(0,e.useMemo)(()=>{let a=D.filter(a=>"expense"===a.type),b=a.reduce((a,b)=>a+b.numericAmount,0),c=new Map;return a.forEach(a=>{let b=c.get(a.category)||{category:a.category,amount:0,percentage:0,count:0};c.set(a.category,{...b,amount:b.amount+a.numericAmount,count:b.count+1})}),Array.from(c.values()).map(a=>({...a,percentage:b>0?a.amount/b*100:0})).sort((a,b)=>b.amount-a.amount)},[D]),F=D.filter(a=>"income"===a.type).reduce((a,b)=>a+b.numericAmount,0),G=D.filter(a=>"expense"===a.type).reduce((a,b)=>a+b.numericAmount,0),H=(0,e.useMemo)(()=>{let a=new Date;return C.filter(b=>{let c=b.date;return c.getMonth()===a.getMonth()&&c.getFullYear()===a.getFullYear()&&"expense"===b.type}).reduce((a,b)=>a+b.numericAmount,0)},[C]),I=(0,e.useMemo)(()=>{let a=new Date,b=a.getMonth(),c=a.getFullYear(),d=0===b?11:b-1,e=0===b?c-1:c,f=C.filter(a=>{let d=a.date;return d.getMonth()===b&&d.getFullYear()===c}),g=C.filter(a=>{let b=a.date;return b.getMonth()===d&&b.getFullYear()===e}),h=f.filter(a=>"income"===a.type).reduce((a,b)=>a+b.numericAmount,0),i=f.filter(a=>"expense"===a.type).reduce((a,b)=>a+b.numericAmount,0),j=g.filter(a=>"income"===a.type).reduce((a,b)=>a+b.numericAmount,0),k=g.filter(a=>"expense"===a.type).reduce((a,b)=>a+b.numericAmount,0),l=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],m=a.getDate(),n=new Date(e,d+1,0).getDate();return{currentMonth:{name:l[b],income:h,expense:i,daysElapsed:m,dailyAverage:m>0?i/m:0},prevMonth:{name:l[d],income:j,expense:k,totalDays:n,dailyAverage:n>0?k/n:0}}},[C]);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:`${b4().container} page-gradient-background`,children:[(0,d.jsxs)("div",{className:b4().headerSection,children:[(0,d.jsx)(h.z,{title:"Insights",subtitle:"Look into your spending patterns and trends"}),(0,d.jsxs)(bu.s,{className:b4().accountSelectorContainer,direction:"column",gap:"2",children:[(0,d.jsx)(bv.E,{as:"label",size:"2",weight:"medium",children:"Filter by Account:"}),(0,d.jsxs)(bw.bL,{value:p,onValueChange:a=>q(a),children:[(0,d.jsx)(bw.l9,{className:b4().accountSelector}),(0,d.jsxs)(bw.UC,{children:[(0,d.jsx)(bw.q7,{value:"all",children:"All Accounts"}),a.map(a=>(0,d.jsxs)(bw.q7,{value:a.uniqueId,children:[a.name,"  ","GBP"===m.currency?"\xa3":(0,k.v)(0,m.currency).charAt(0),Number(a.balance).toFixed(2)]},a.id))]})]})]}),(0,d.jsx)(bx.a,{className:b4().timeRangeContainer,children:(0,d.jsx)(b_,{value:r,onValueChange:a=>s(a),children:(0,d.jsxs)(b0,{children:[(0,d.jsx)(b1,{value:"day",children:"Day"}),(0,d.jsx)(b1,{value:"month",children:"Month"}),(0,d.jsx)(b1,{value:"year",children:"Year"})]})})})]}),(0,d.jsx)("main",{className:b4().main,children:0===C.length?(0,d.jsx)("div",{className:b4().emptyState,children:(0,d.jsxs)("div",{className:b4().emptyStateContent,children:[(0,d.jsx)("div",{className:b4().emptyStateIcon,children:"\uD83D\uDCCA"}),(0,d.jsx)("h3",{className:b4().emptyStateTitle,children:"No data to analyze yet"}),(0,d.jsx)("p",{className:b4().emptyStateText,children:"Add some transactions to see analytics and insights"})]})}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(b2.x,{id:"stats-cards",className:b4().statsGrid,children:(0,d.jsx)(bg,{totalIncome:F,totalExpense:G,netBalance:F-G,incomeTransactionCount:D.filter(a=>"income"===a.type).length,expenseTransactionCount:D.filter(a=>"expense"===a.type).length,currency:m.currency})}),(0,d.jsx)(b2.x,{id:"expense-breakdown",className:b4().analyticsCard,children:(0,d.jsx)(bt,{title:"\uD83D\uDCCA Expense Breakdown",description:"Visual breakdown of your spending by category",children:0===E.length?(0,d.jsxs)("div",{className:b4().noData,children:[(0,d.jsx)("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"\uD83D\uDCC8"}),"No expense data for this period"]}):(0,d.jsx)("div",{className:b4().chartContainer,children:(0,d.jsx)(bb,{data:E.slice(0,6),categoryConfig:z,currency:m.currency})})})}),(0,d.jsx)(b2.x,{id:"daily-comparison",className:b4().analyticsCard,children:(0,d.jsx)(bt,{title:"\uD83D\uDCC8 Daily Expense Comparison",description:"Compare daily expenses for the entire month between current and previous month",children:0===I.currentMonth.expense&&0===I.prevMonth.expense?(0,d.jsxs)("div",{className:b4().noData,children:[(0,d.jsx)("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"\uD83D\uDCC8"}),"No expense data for comparison"]}):(0,d.jsxs)("div",{className:b4().chartContainer,children:[(0,d.jsx)(bc.E,{data:I,currency:m.currency,transactions:C}),(0,d.jsx)("div",{className:b4().comparisonStats,children:(0,d.jsx)(bq,{currentMonthAverage:I.currentMonth.dailyAverage,prevMonthAverage:I.prevMonth.dailyAverage,currentMonthName:I.currentMonth.name,prevMonthName:I.prevMonth.name,currency:m.currency})})]})})}),(0,d.jsx)(b2.x,{id:"spending-category",className:b4().analyticsCard,children:(0,d.jsx)(bt,{title:"\uD83C\uDFF7 Spending by Category",description:"Detailed breakdown of your expenses across different categories",children:(0,d.jsx)(bk,{categoryData:E,currency:m.currency,customCategories:v,onAddCategory:async(a,b)=>{let c=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#14b8a6","#f97316"],d=c[Math.floor(Math.random()*c.length)];await A(a,b,d)},onDeleteCategory:B})})}),(0,d.jsx)(b2.x,{id:"recurring-payments",className:b4().analyticsCard,children:(0,d.jsx)(bt,{title:"\uD83D\uDD04 Recurring Payments",description:"Track your recurring expenses and upcoming payment predictions",children:(0,d.jsx)(bd.Z,{transactions:C,currency:m.currency,maxItems:5,showSeeMore:!1})})}),(0,d.jsx)(b2.x,{id:"budget-overview",className:b4().analyticsCard,children:(0,d.jsx)(bt,{title:"\uD83D\uDCB0 Monthly Budget Overview",description:"Track your progress against your monthly spending budget (current month)",children:(0,d.jsx)(bn,{monthlyExpense:H,totalBudgetLimit:m.totalBudgetLimit,currency:m.currency})})})]})})]}),(0,d.jsx)(g.A,{buttonColor:"#222222",opacity:50})]})}},76590:a=>{a.exports={card:"analytics-card_card__zGQwP",cardHeader:"analytics-card_cardHeader__De66P",cardTitle:"analytics-card_cardTitle__iXadG",cardDescription:"analytics-card_cardDescription__is_yt",cardContent:"analytics-card_cardContent__TpwJb"}},77069:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>n});var d=c(38828),e=c(10841);c(10935);var f=c(68338),g=c(66185),h=c(42543),i=c(52030),j=c(17054),k=c(31965),l=c(75709),m=c(43212);async function n(){let a=await (0,g.H)();a?.customerId||(0,h.redirect)("/login");let b=await (0,f.connectDB)();b.collection("users").findOne({customerId:a.customerId})||(0,h.redirect)("/login");let c=await b.collection("users").findOne({customerId:a.customerId}),e=await b.collection("accounts").find({customerId:a.customerId}).toArray(),n=await b.collection("transactions").find({customerId:a.customerId}).sort({bookedDate:-1}).toArray(),o=(0,i.Z5)(e),p=(0,i.Z5)(n),q=await b.collection("spending_categories").find({customerId:a.customerId}).sort({createdAt:-1}).toArray(),r=(0,i.Z5)(q),s={firstName:c?.firstName||"",lastName:c?.lastName||"",email:c?.email||"",currency:c?.currency||"USD",totalBudgetLimit:c?.totalBudgetLimit||5e3},t=await (0,m.h_)(a.customerId),u=t?.pageColors?.analytics||l.n.analytics;return(0,d.jsx)(k.default,{customerId:a.customerId,children:(0,d.jsx)(j.default,{accounts:o,transactions:p,customCategories:r,profile:s,pageColor:u})})}(0,c(52943).D)([n]),(0,e.A)(n,"0044473caadf7cbe9f6f3cb0eb7274128aa8dcc9a7",null)},85002:(a,b,c)=>{"use strict";c.r(b),c.d(b,{"0044473caadf7cbe9f6f3cb0eb7274128aa8dcc9a7":()=>d.default});var d=c(77069)},86439:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external")},90265:(a,b,c)=>{"use strict";c.d(b,{z:()=>i});var d=c(13486);c(60159);var e=c(79483),f=c(2984),g=c(70905),h=c.n(g);let i=({title:a,subtitle:b,backTo:c})=>{let g=(0,f.useRouter)();return(0,f.useParams)().customerId,(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:h().header,children:[(0,d.jsx)("div",{className:h().backButton,children:(0,d.jsx)(e.A60,{className:h().backIcon,onClick:()=>{c?g.push(c):g.back()},style:{color:"#fff"}})}),(0,d.jsx)("div",{className:h().headerCenter,children:(0,d.jsx)("h1",{className:h().title,children:a})})]}),b&&(0,d.jsx)("div",{className:h().subtitle,children:(0,d.jsx)("p",{className:h().subtitleText,children:b})})]})}},93898:a=>{a.exports={comparisonStat:"daily-spending-comparison_comparisonStat__LH4AH",comparisonValue:"daily-spending-comparison_comparisonValue__jV1b2",incomeColor:"daily-spending-comparison_incomeColor__ZRAJv",expenseColor:"daily-spending-comparison_expenseColor__cZNlS"}}};var b=require("../../../webpack-runtime.js");b.C(a);var c=b.X(0,[699,235,471,930,483,359,343,936,955,876,89,42,321],()=>b(b.s=49806));module.exports=c})();