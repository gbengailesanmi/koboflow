(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{4747:e=>{e.exports={style:{fontFamily:"'Open Sans', 'Open Sans Fallback'",fontStyle:"normal"},className:"__className_2fad4c",variable:"__variable_2fad4c"}},29652:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,4747,23)),Promise.resolve().then(r.t.bind(r,73139,23)),Promise.resolve().then(r.bind(r,39544))},39544:(e,t,r)=>{"use strict";r.d(t,{default:()=>v});var n=r(54568),o=r(7620),a=(e,t,r,n,o,a,s,l)=>{let i=document.documentElement,c=["light","dark"];function u(t){var r;(Array.isArray(e)?e:[e]).forEach(e=>{let r="class"===e,n=r&&a?o.map(e=>a[e]||e):o;r?(i.classList.remove(...n),i.classList.add(a&&a[t]?a[t]:t)):i.setAttribute(e,t)}),r=t,l&&c.includes(r)&&(i.style.colorScheme=r)}if(n)u(n);else try{let e=localStorage.getItem(t)||r,n=s&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;u(n)}catch(e){}},s=["light","dark"],l="(prefers-color-scheme: dark)",i=o.createContext(void 0),c=e=>o.useContext(i)?o.createElement(o.Fragment,null,e.children):o.createElement(d,{...e}),u=["light","dark"],d=e=>{let{forcedTheme:t,disableTransitionOnChange:r=!1,enableSystem:n=!0,enableColorScheme:a=!0,storageKey:c="theme",themes:d=u,defaultTheme:g=n?"system":"light",attribute:b="data-theme",value:y,children:x,nonce:v,scriptProps:S}=e,[C,T]=o.useState(()=>h(c,g)),[w,E]=o.useState(()=>"system"===C?f():C),k=y?Object.values(y):d,j=o.useCallback(e=>{let t=e;if(!t)return;"system"===e&&n&&(t=f());let o=y?y[t]:t,l=r?p(v):null,i=document.documentElement,c=e=>{"class"===e?(i.classList.remove(...k),o&&i.classList.add(o)):e.startsWith("data-")&&(o?i.setAttribute(e,o):i.removeAttribute(e))};if(Array.isArray(b)?b.forEach(c):c(b),a){let e=s.includes(g)?g:null,r=s.includes(t)?t:e;i.style.colorScheme=r}null==l||l()},[v]),_=o.useCallback(e=>{let t="function"==typeof e?e(C):e;T(t);try{localStorage.setItem(c,t)}catch(e){}},[C]),L=o.useCallback(e=>{E(f(e)),"system"===C&&n&&!t&&j("system")},[C,t]);o.useEffect(()=>{let e=window.matchMedia(l);return e.addListener(L),L(e),()=>e.removeListener(L)},[L]),o.useEffect(()=>{let e=e=>{e.key===c&&(e.newValue?T(e.newValue):_(g))};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[_]),o.useEffect(()=>{j(null!=t?t:C)},[t,C]);let M=o.useMemo(()=>({theme:C,setTheme:_,forcedTheme:t,resolvedTheme:"system"===C?w:C,themes:n?[...d,"system"]:d,systemTheme:n?w:void 0}),[C,_,t,w,n,d]);return o.createElement(i.Provider,{value:M},o.createElement(m,{forcedTheme:t,storageKey:c,attribute:b,enableSystem:n,enableColorScheme:a,defaultTheme:g,value:y,themes:d,nonce:v,scriptProps:S}),x)},m=o.memo(e=>{let{forcedTheme:t,storageKey:r,attribute:n,enableSystem:s,enableColorScheme:l,defaultTheme:i,value:c,themes:u,nonce:d,scriptProps:m}=e,h=JSON.stringify([n,r,i,t,u,c,s,l]).slice(1,-1);return o.createElement("script",{...m,suppressHydrationWarning:!0,nonce:"",dangerouslySetInnerHTML:{__html:"(".concat(a.toString(),")(").concat(h,")")}})}),h=(e,t)=>{let r;try{r=localStorage.getItem(e)||void 0}catch(e){}return r||t},p=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},f=e=>(e||(e=window.matchMedia(l)),e.matches?"dark":"light"),g=r(21888),b=r(44644),y=r(62942);function x(e){let{children:t}=e,r=(0,y.useRouter)(),a=(0,y.usePathname)(),s=(0,o.useRef)(null),l=(0,o.useRef)(null),i=(0,o.useRef)(Date.now()),[c,u]=(0,o.useState)(!1),[d,m]=(0,o.useState)(120),h=(0,o.useRef)(!1),p="/login"===a||"/signup"===a||"/verify-email"===a||(null==a?void 0:a.startsWith("/verify-email")),f=(0,o.useCallback)(async()=>{if(!h.current){h.current=!0;try{s.current&&(clearTimeout(s.current),s.current=null),l.current&&(clearTimeout(l.current),l.current=null),u(!1),await fetch("/api/session",{method:"DELETE",credentials:"same-origin"}),r.push("/login?timeout=true")}catch(e){console.error("Error during automatic logout:",e),r.push("/login")}finally{setTimeout(()=>{h.current=!1},2e3)}}},[r]),g=(0,o.useCallback)(()=>{if(p||h.current)return;let e=Date.now();e-i.current<1e3||(i.current=e,s.current&&clearTimeout(s.current),l.current&&clearTimeout(l.current),c&&(u(!1),m(120)),l.current=setTimeout(()=>{h.current||(u(!0),m(120))},78e4),s.current=setTimeout(()=>{h.current||f()},9e5))},[p,f,c]),b=(0,o.useCallback)(()=>{u(!1),m(120),g()},[g]);return(0,o.useEffect)(()=>{if(!c)return;let e=setInterval(()=>{m(t=>t<=1?(clearInterval(e),0):t-1)},1e3);return()=>clearInterval(e)},[c]),(0,o.useEffect)(()=>{if(p){s.current&&(clearTimeout(s.current),s.current=null),l.current&&(clearTimeout(l.current),l.current=null),u(!1),h.current=!1;return}let e=["mousedown","mousemove","keypress","scroll","touchstart","click"],t=()=>{g()};return g(),e.forEach(e=>{document.addEventListener(e,t,{passive:!0})}),()=>{e.forEach(e=>{document.removeEventListener(e,t)}),s.current&&(clearTimeout(s.current),s.current=null),l.current&&(clearTimeout(l.current),l.current=null)}},[p]),(0,n.jsxs)(n.Fragment,{children:[t,c&&(0,n.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,padding:"20px"},children:(0,n.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"20px",padding:"32px",maxWidth:"400px",width:"100%",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",textAlign:"center"},children:[(0,n.jsx)("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"⏱️"}),(0,n.jsx)("h2",{style:{fontSize:"24px",fontWeight:"700",color:"#111827",margin:"0 0 12px"},children:"Session Expiring Soon"}),(0,n.jsx)("p",{style:{fontSize:"16px",color:"#6b7280",marginBottom:"24px",lineHeight:"1.5"},children:"Your session will expire due to inactivity in:"}),(0,n.jsx)("div",{style:{fontSize:"48px",fontWeight:"700",color:d<=30?"#ef4444":"#667eea",marginBottom:"24px",fontFamily:"monospace"},children:(e=>{let t=Math.floor(e/60);return"".concat(t,":").concat((e%60).toString().padStart(2,"0"))})(d)}),(0,n.jsx)("button",{onClick:b,style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",borderRadius:"10px",padding:"14px 32px",fontSize:"16px",fontWeight:"600",cursor:"pointer",width:"100%",marginBottom:"12px",boxShadow:"0 4px 12px rgba(102, 126, 234, 0.3)",transition:"all 0.2s ease"},onMouseOver:e=>{e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 6px 20px rgba(102, 126, 234, 0.4)"},onMouseOut:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 4px 12px rgba(102, 126, 234, 0.3)"},children:"Continue Session"}),(0,n.jsx)("button",{onClick:f,style:{background:"transparent",color:"#6b7280",border:"1px solid #e5e7eb",borderRadius:"10px",padding:"14px 32px",fontSize:"16px",fontWeight:"500",cursor:"pointer",width:"100%",transition:"all 0.2s ease"},onMouseOver:e=>{e.currentTarget.style.backgroundColor="#f9fafb"},onMouseOut:e=>{e.currentTarget.style.backgroundColor="transparent"},children:"Log Out Now"})]})})]})}function v(e){let{children:t}=e;return(0,n.jsx)(c,{attribute:"class",defaultTheme:"dark",enableSystem:!0,children:(0,n.jsx)(b.A,{children:(0,n.jsx)(x,{children:(0,n.jsx)(g.Sx,{children:t})})})})}},44644:(e,t,r)=>{"use strict";r.d(t,{A:()=>l,Q:()=>s});var n=r(54568),o=r(7620);let a=(0,o.createContext)({baseColor:"",viaColor:"",bottomColor:"",viaStop:"",bottomStop:"",setBaseColor:()=>{},isUserSet:!1});function s(){return(0,o.useContext)(a)}function l(e){let{children:t}=e,[r,s]=(0,o.useState)("#245cd4"),[l,i]=(0,o.useState)(!1),c=function(e,t,r){let n=parseInt(e.slice(1),16),o=Math.round((n>>16)*.5),a=Math.round((n>>8&255)*.5),s=Math.round((255&n)*(1-t));return"rgba(".concat(o,", ").concat(a,", ").concat(s,", ").concat(.2,")")}(r,.5,0);return(0,o.useEffect)(()=>{"undefined"!=typeof document&&document.documentElement.style.setProperty("--baseColor",r)},[r]),(0,n.jsx)(a.Provider,{value:{baseColor:r,viaColor:c,bottomColor:"#040914",viaStop:"40%",bottomStop:"90%",setBaseColor:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];s(e),t&&i(!0),"undefined"!=typeof document&&document.documentElement.style.setProperty("--baseColor",e)},isUserSet:l},children:t})}},73139:()=>{}},e=>{e.O(0,[3731,7678,7437,1888,587,1902,7358],()=>e(e.s=29652)),_N_E=e.O()}]);