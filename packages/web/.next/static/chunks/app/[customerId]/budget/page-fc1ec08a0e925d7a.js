(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2884],{8615:e=>{e.exports={layout:"page-layout-with-sidebar_layout___xiLz",content:"page-layout-with-sidebar_content__Rtg0E"}},11475:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var r=a(54568),n=a(7620),i=a(79861),s=a.n(i),l=a(62942),c=a(58677);function o(e){let{buttonColor:t,opacity:a=75}=e,i=(0,l.useParams)(),o=(0,l.useRouter)(),u=i.customerId,[g,p]=(0,n.useState)(!0),[m,h]=(0,n.useState)(0);(0,n.useEffect)(()=>{let e=()=>{let e=window.scrollY;e<10?p(!0):e>m?p(!1):e<m&&p(!0),h(e)};return window.addEventListener("scroll",e,{passive:!0}),()=>{window.removeEventListener("scroll",e)}},[m]);let b=()=>{o.push("/".concat(u,"/dashboard"))},x=t?{color:t}:{};return(0,r.jsxs)("div",{className:"".concat(s().Footer," ").concat(g?s().FooterVisible:s().FooterHidden),style:{backgroundColor:"rgba(255, 255, 255, ".concat(a/100,")")},children:[(0,r.jsx)(d,{onClick:b,text:"Home",style:x,textColor:t,children:(0,r.jsx)(c.fAJ,{width:"25",height:"25"})}),(0,r.jsx)(d,{onClick:()=>{o.push("/".concat(u,"/analytics"))},text:"Insights",style:x,textColor:t,children:(0,r.jsx)(c.j2g,{width:"25",height:"25"})}),(0,r.jsx)(d,{onClick:()=>{o.push("/".concat(u,"/budget"))},text:"Budget",style:x,textColor:t,children:(0,r.jsx)(c.LMN,{width:"25",height:"25"})}),(0,r.jsx)(d,{onClick:b,text:"Deals",style:x,textColor:t,children:(0,r.jsx)(c.A20,{width:"25",height:"25"})})]})}function d(e){let{text:t="",children:a,textColor:n,onClick:i,style:s}=e;return(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("button",{onClick:i,style:s,className:"p-3 rounded-full bg-transparent hover:bg-gray-100/10 transition-colors cursor-pointer border-none",children:a}),t&&(0,r.jsx)("div",{className:"text-xs text-center",style:n?{color:n}:{},children:t})]})}},15816:(e,t,a)=>{"use strict";a.d(t,{v:()=>r});let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";return"".concat({USD:"$",EUR:"€",GBP:"\xa3",JPY:"\xa5",AUD:"A$",CAD:"C$",CHF:"Fr",CNY:"\xa5",INR:"₹",NGN:"₦"}[t]||"$").concat(Math.abs(e).toLocaleString())}},24563:(e,t,a)=>{"use strict";a.d(t,{z:()=>c});var r=a(54568);a(7620);var n=a(58677),i=a(62942),s=a(75477),l=a.n(s);let c=e=>{let{title:t,subtitle:a,backTo:s}=e,c=(0,i.useRouter)();return(0,i.useParams)().customerId,(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:l().header,children:[(0,r.jsx)("div",{className:l().backButton,children:(0,r.jsx)(n.A60,{className:l().backIcon,onClick:()=>{s?c.push(s):c.back()},style:{color:"#fff"}})}),(0,r.jsx)("div",{className:l().headerCenter,children:(0,r.jsx)("h1",{className:l().title,children:t})})]}),a&&(0,r.jsx)("div",{className:l().subtitle,children:(0,r.jsx)("p",{className:l().subtitleText,children:a})})]})}},41225:(e,t,a)=>{"use strict";a.d(t,{default:()=>m});var r=a(54568),n=a(7620),i=a(62942),s=a(11475),l=a(24563),c=a(97711),o=a(15816),d=a(82248),u=a(44644),g=a(87007),p=a.n(g);function m(e){var t;let{transactions:a,profile:g,customCategories:m,pageColor:h}=e,b=(0,i.useParams)();(0,i.useRouter)(),b.customerId;let{setBaseColor:x}=(0,u.Q)();(0,n.useEffect)(()=>{x("".concat(h,"4D"))},[h,x]);let y=(0,n.useMemo)(()=>(0,d.P)(m),[m]),[_,v]=(0,n.useState)({totalBudgetLimit:g.totalBudgetLimit||0,period:{type:"current-month"},categories:[]}),[f,j]=(0,n.useState)(!0),[N,S]=(0,n.useState)(!1),[C,D]=(0,n.useState)(null),[B,T]=(0,n.useState)(""),[w,k]=(0,n.useState)(null),[I,L]=(0,n.useState)(""),[F,M]=(0,n.useState)(!1),[U,A]=(0,n.useState)("current-month"),[P,Y]=(0,n.useState)(""),[E,R]=(0,n.useState)(""),[H,O]=(0,n.useState)("1"),[V,z]=(0,n.useState)("months");n.useEffect(()=>{!async function(){try{j(!0);let e=await fetch("/api/budget");if(e.ok){let t=await e.json(),a=t.period||{type:"current-month"};v({totalBudgetLimit:t.totalBudgetLimit||g.totalBudgetLimit||0,period:a,categories:t.categories||[]}),A(a.type),a.startDate&&Y(new Date(a.startDate).toISOString().split("T")[0]),a.endDate&&R(new Date(a.endDate).toISOString().split("T")[0]),a.recurringInterval&&O(a.recurringInterval.toString()),a.recurringUnit&&z(a.recurringUnit)}}catch(e){console.error("Failed to fetch budget:",e)}finally{j(!1)}}()},[g.totalBudgetLimit]);let G=n.useCallback(async e=>{try{if(S(!0),!(await fetch("/api/budget",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw Error("Failed to save budget")}catch(e){console.error("Failed to save budget:",e),alert("Failed to save budget. Please try again.")}finally{S(!1)}},[]),W=(0,n.useMemo)(()=>a.map(e=>{let t=parseFloat(e.amount);return{...e,numericAmount:Math.abs(t),type:t<0?"expense":"income",category:t<0?(0,c.Y)(e.narration,m):"income",date:new Date(e.bookedDate)}}),[a,m]),J=(e,t)=>{if(!t||"current-month"===t.type){let t=new Date;return e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}if("custom-date"===t.type&&t.startDate&&t.endDate){let a=new Date(t.startDate),r=new Date(t.endDate);return e>=a&&e<=r}if("recurring"===t.type&&t.startDate&&t.recurringInterval&&t.recurringUnit){let a=new Date(t.startDate),r=new Date,n=0;"days"===t.recurringUnit?n=Math.floor(Math.floor((r.getTime()-a.getTime())/864e5)/t.recurringInterval):"months"===t.recurringUnit?n=Math.floor(((r.getFullYear()-a.getFullYear())*12+(r.getMonth()-a.getMonth()))/t.recurringInterval):"years"===t.recurringUnit&&(n=Math.floor((r.getFullYear()-a.getFullYear())/t.recurringInterval));let i=new Date(a);"days"===t.recurringUnit?i.setDate(a.getDate()+n*t.recurringInterval):"months"===t.recurringUnit?i.setMonth(a.getMonth()+n*t.recurringInterval):"years"===t.recurringUnit&&i.setFullYear(a.getFullYear()+n*t.recurringInterval);let s=new Date(i);return"days"===t.recurringUnit?s.setDate(i.getDate()+t.recurringInterval):"months"===t.recurringUnit?s.setMonth(i.getMonth()+t.recurringInterval):"years"===t.recurringUnit&&s.setFullYear(i.getFullYear()+t.recurringInterval),e>=i&&e<s}return!1},X=(0,n.useMemo)(()=>W.filter(e=>"expense"===e.type&&J(e.date,_.period)).reduce((e,t)=>e+t.numericAmount,0),[W,_.period]),Q=(0,n.useMemo)(()=>Object.keys(y).filter(e=>"income"!==e).map(e=>{let t=W.filter(t=>"expense"===t.type&&t.category===e&&J(t.date,_.period)).reduce((e,t)=>e+t.numericAmount,0),a=_.categories.find(t=>t.category===e&&!t.customName);return{category:e,spent:t,limit:(null==a?void 0:a.limit)||0,hasLimit:!!a,customName:void 0}}).sort((e,t)=>t.spent-e.spent),[W,_.categories,_.period]),Z=X/_.totalBudgetLimit*100,q=X>_.totalBudgetLimit,K=e=>e&&"current-month"!==e.type?"this period":"this month",$=(e,t,a)=>{let r=_.categories.filter(t=>a?t.category!==e||t.customName!==a:!(t.category===e&&!t.customName)).reduce((e,t)=>e+t.limit,0);if(r+t>_.totalBudgetLimit){let e=_.totalBudgetLimit-r;alert("Category budget exceeds monthly limit!\n\n"+"Monthly Budget: ".concat((0,o.v)(_.totalBudgetLimit,g.currency),"\n")+"Other Categories Total: ".concat((0,o.v)(r,g.currency),"\n")+"Available for this category: ".concat((0,o.v)(e,g.currency),"\n\n")+"You tried to set: ".concat((0,o.v)(t,g.currency)));return}let n={..._,categories:_.categories.find(t=>t.category===e&&!t.customName)?_.categories.map(r=>r.category!==e||r.customName?r:{...r,limit:t,...a?{customName:a}:{}}):[..._.categories,{category:e,limit:t,...a?{customName:a}:{}}]};v(n),G(n),D(null),T(""),L("")},ee=(e,t)=>{D(e),T(t?t.toString():"")},et=e=>{let t=_.categories.find(t=>t.category===e);return(null==t?void 0:t.customName)?t.customName:(y[e]||y.other).label},ea=Q.filter(e=>e.hasLimit),er=Q.filter(e=>!e.hasLimit),en=[...ea,..._.categories.filter(e=>e.customName).map(e=>{let t=new Date,a=t.getMonth(),r=t.getFullYear(),n=W.filter(t=>{let n=t.date;return"expense"===t.type&&t.category===e.category&&n.getMonth()===a&&n.getFullYear()===r}).reduce((e,t)=>e+t.numericAmount,0);return{category:e.category,customName:e.customName,spent:n,limit:e.limit,hasLimit:!0}})];return(0,r.jsxs)("div",{className:"".concat(p().container," page-gradient-background"),children:[(0,r.jsx)("div",{className:p().wrapper,children:(0,r.jsxs)("div",{children:[(0,r.jsx)(l.z,{title:"Budget",subtitle:"Set spending limits and track your progress"}),(0,r.jsxs)("div",{id:"monthly-budget",className:p().card,style:{margin:"0 16px 32px 16px"},children:[(0,r.jsx)("div",{className:p().cardHeader,children:(0,r.jsxs)("div",{className:p().cardHeaderFlex,children:[(0,r.jsxs)("div",{className:p().cardTitleSection,children:[(0,r.jsx)("div",{className:p().iconWrapper,children:(0,r.jsx)("span",{style:{fontSize:"24px"},children:"\uD83C\uDFAF"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:p().cardTitle,children:"Budget"}),(0,r.jsxs)("p",{className:p().cardDescription,children:[(e=>{if(!e||"current-month"===e.type)return"Current Month";if("custom-date"===e.type&&e.startDate&&e.endDate){let t=new Date(e.startDate).toLocaleDateString(),a=new Date(e.endDate).toLocaleDateString();return"".concat(t," - ").concat(a)}if("recurring"===e.type&&e.recurringInterval&&e.recurringUnit){let t=1===e.recurringInterval?"":e.recurringInterval,a=1===e.recurringInterval?e.recurringUnit.slice(0,-1):e.recurringUnit;return"Every ".concat(t," ").concat(a).trim()}return"Current Month"})(_.period),(null==(t=_.period)?void 0:t.type)==="recurring"&&(0,r.jsxs)("span",{style:{display:"block",fontSize:"11px",color:"#9ca3af",marginTop:"2px"},children:["Current: ",(e=>{if(!e||"current-month"===e.type){let e=new Date,t=new Date(e.getFullYear(),e.getMonth(),1),a=new Date(e.getFullYear(),e.getMonth()+1,0);return"".concat(t.toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ").concat(a.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}))}if("custom-date"===e.type&&e.startDate&&e.endDate){let t=new Date(e.startDate),a=new Date(e.endDate);return"".concat(t.toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ").concat(a.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}))}if("recurring"===e.type&&e.startDate&&e.recurringInterval&&e.recurringUnit){let t=new Date(e.startDate),a=new Date,r=0;"days"===e.recurringUnit?r=Math.floor(Math.floor((a.getTime()-t.getTime())/864e5)/e.recurringInterval):"months"===e.recurringUnit?r=Math.floor(((a.getFullYear()-t.getFullYear())*12+(a.getMonth()-t.getMonth()))/e.recurringInterval):"years"===e.recurringUnit&&(r=Math.floor((a.getFullYear()-t.getFullYear())/e.recurringInterval));let n=new Date(t);"days"===e.recurringUnit?n.setDate(t.getDate()+r*e.recurringInterval):"months"===e.recurringUnit?n.setMonth(t.getMonth()+r*e.recurringInterval):"years"===e.recurringUnit&&n.setFullYear(t.getFullYear()+r*e.recurringInterval);let i=new Date(n);return"days"===e.recurringUnit?i.setDate(n.getDate()+e.recurringInterval-1):"months"===e.recurringUnit?(i.setMonth(n.getMonth()+e.recurringInterval),i.setDate(0)):"years"===e.recurringUnit&&(i.setFullYear(n.getFullYear()+e.recurringInterval),i.setDate(i.getDate()-1)),"".concat(n.toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ").concat(i.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}))}return""})(_.period)]})]})]})]}),C?(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"12px",minWidth:"300px"},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px",display:"block"},children:"Budget Amount"}),(0,r.jsx)("input",{type:"number",value:B,onChange:e=>T(e.target.value),placeholder:"Enter amount",style:{padding:"8px 12px",borderRadius:"8px",border:"1px solid #e5e7eb",width:"100%"}})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px",display:"block"},children:"Budget Period"}),(0,r.jsxs)("select",{value:U,onChange:e=>A(e.target.value),style:{padding:"8px 12px",borderRadius:"8px",border:"1px solid #e5e7eb",width:"100%"},children:[(0,r.jsx)("option",{value:"current-month",children:"Current Month"}),(0,r.jsx)("option",{value:"custom-date",children:"Custom Date Range"}),(0,r.jsx)("option",{value:"recurring",children:"Recurring Period"})]})]}),"custom-date"===U&&(0,r.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,r.jsxs)("div",{style:{flex:1},children:[(0,r.jsx)("label",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px",display:"block"},children:"Start Date"}),(0,r.jsx)("input",{type:"date",value:P,onChange:e=>Y(e.target.value),style:{padding:"8px 12px",borderRadius:"8px",border:"1px solid #e5e7eb",width:"100%"}})]}),(0,r.jsxs)("div",{style:{flex:1},children:[(0,r.jsx)("label",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px",display:"block"},children:"End Date"}),(0,r.jsx)("input",{type:"date",value:E,onChange:e=>R(e.target.value),style:{padding:"8px 12px",borderRadius:"8px",border:"1px solid #e5e7eb",width:"100%"}})]})]}),"recurring"===U&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px",display:"block"},children:"Start Date"}),(0,r.jsx)("input",{type:"date",value:P,onChange:e=>Y(e.target.value),style:{padding:"8px 12px",borderRadius:"8px",border:"1px solid #e5e7eb",width:"100%"}})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,r.jsxs)("div",{style:{flex:1},children:[(0,r.jsx)("label",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px",display:"block"},children:"Every"}),(0,r.jsx)("input",{type:"number",min:"1",value:H,onChange:e=>O(e.target.value),style:{padding:"8px 12px",borderRadius:"8px",border:"1px solid #e5e7eb",width:"100%"}})]}),(0,r.jsxs)("div",{style:{flex:1},children:[(0,r.jsx)("label",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px",display:"block"},children:"Unit"}),(0,r.jsxs)("select",{value:V,onChange:e=>z(e.target.value),style:{padding:"8px 12px",borderRadius:"8px",border:"1px solid #e5e7eb",width:"100%"},children:[(0,r.jsx)("option",{value:"days",children:"Days"}),(0,r.jsx)("option",{value:"months",children:"Months"}),(0,r.jsx)("option",{value:"years",children:"Years"})]})]})]})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-end"},children:[(0,r.jsx)("button",{className:p().editButton,onClick:()=>{if("custom-date"===U){if(!P||!E)return void alert("Please enter both start and end dates");if(new Date(P)>=new Date(E))return void alert("End date must be after start date")}if("recurring"===U){if(!P)return void alert("Please enter a start date");if(!H||1>parseInt(H))return void alert("Please enter a valid interval")}let e={type:U};"custom-date"===U?(e.startDate=new Date(P),e.endDate=new Date(E)):"recurring"===U&&(e.startDate=new Date(P),e.recurringInterval=parseInt(H),e.recurringUnit=V);let t=parseFloat(B);if(isNaN(t)||t<=0)return void alert("Please enter a valid amount");let a={..._,totalBudgetLimit:t,period:e};v(a),G(a),M(!1),D(null),T("")},style:{background:"#10b981"},children:"✓ Save"}),(0,r.jsx)("button",{className:p().editButton,onClick:()=>{D(null),M(!1),T("")},style:{background:"#ef4444"},children:"✕ Cancel"})]})]}):(0,r.jsx)("button",{className:p().editButton,onClick:()=>{D("monthly"),M(!0),T(_.totalBudgetLimit.toString())},children:"✏️ Edit"})]})}),(0,r.jsxs)("div",{className:p().cardContent,children:[(0,r.jsxs)("div",{className:p().budgetOverview,children:[(0,r.jsxs)("div",{className:p().budgetSection,children:[(0,r.jsxs)("div",{className:p().budgetLabel,children:["Spent ",K(_.period)]}),(0,r.jsx)("div",{className:"".concat(p().budgetValue," ").concat(q?p().budgetValueOver:p().budgetValueNormal),children:(0,o.v)(X,g.currency)})]}),(0,r.jsxs)("div",{className:p().budgetSection,style:{alignItems:"flex-end"},children:[(0,r.jsx)("div",{className:p().budgetLabel,children:"Budget limit"}),(0,r.jsx)("div",{className:"".concat(p().budgetValue," ").concat(p().budgetValueMuted),children:(0,o.v)(_.totalBudgetLimit,g.currency)})]})]}),(0,r.jsxs)("div",{className:p().progressSection,children:[(0,r.jsxs)("div",{className:p().progressLabel,children:[(0,r.jsx)("span",{className:p().progressLabelText,children:"Spending Progress"}),(0,r.jsxs)("span",{className:"".concat(p().progressPercentage," ").concat(q?p().budgetValueOver:""),children:[Z.toFixed(1),"%"]})]}),(0,r.jsx)("div",{className:p().progressBar,children:(0,r.jsx)("div",{className:p().progressFill,style:{width:"".concat(Math.min(Z,100),"%"),background:q?"linear-gradient(90deg, #ef4444, #dc2626)":"linear-gradient(90deg, #10b981, #059669)"}})})]}),(()=>{let e=_.categories.reduce((e,t)=>e+t.limit,0),t=_.totalBudgetLimit-e,a=e/_.totalBudgetLimit*100,n=e>_.totalBudgetLimit;return e>0?(0,r.jsxs)("div",{style:{marginTop:"16px"},children:[(0,r.jsxs)("div",{className:p().budgetOverview,children:[(0,r.jsxs)("div",{className:p().budgetSection,children:[(0,r.jsx)("div",{className:p().budgetLabel,children:"Allocated to categories"}),(0,r.jsx)("div",{className:"".concat(p().budgetValue," ").concat(n?p().budgetValueOver:p().budgetValueNormal),children:(0,o.v)(e,g.currency)})]}),(0,r.jsxs)("div",{className:p().budgetSection,style:{alignItems:"flex-end"},children:[(0,r.jsx)("div",{className:p().budgetLabel,children:n?"Over-allocated":"Unallocated"}),(0,r.jsx)("div",{className:"".concat(p().budgetValue," ").concat(n?p().budgetValueOver:p().budgetValueNormal),children:(0,o.v)(Math.abs(t),g.currency)})]})]}),(0,r.jsxs)("div",{className:p().progressSection,children:[(0,r.jsxs)("div",{className:p().progressLabel,children:[(0,r.jsx)("span",{className:p().progressLabelText,children:"Budget Allocation"}),(0,r.jsxs)("span",{className:"".concat(p().progressPercentage," ").concat(n?p().budgetValueOver:""),children:[a.toFixed(1),"%"]})]}),(0,r.jsx)("div",{className:p().progressBar,children:(0,r.jsx)("div",{className:p().progressFill,style:{width:"".concat(Math.min(a,100),"%"),background:n?"linear-gradient(90deg, #ef4444, #dc2626)":a>=90?"linear-gradient(90deg, #f59e0b, #d97706)":"linear-gradient(90deg, #10b981, #059669)"}})})]})]}):null})(),(0,r.jsxs)("div",{className:p().statusAlert,children:[(0,r.jsx)("div",{className:p().statusIcon,children:q?"⚠️":Z>=80?"⚡":"✅"}),(0,r.jsxs)("div",{className:p().statusContent,children:[(0,r.jsx)("div",{className:p().statusTitle,style:{color:q?"#ef4444":Z>=80?"#f59e0b":"#10b981"},children:q?"Over Budget":Z>=80?"Approaching Limit":"On Track"}),(0,r.jsx)("div",{className:p().statusMessage,children:q?"You've exceeded your budget by ".concat((0,o.v)(X-_.totalBudgetLimit,g.currency)):"You have ".concat((0,o.v)(_.totalBudgetLimit-X,g.currency)," remaining ").concat(K(_.period))})]})]})]})]}),en.length>0&&(0,r.jsxs)("div",{id:"category-budgets",className:p().card,style:{margin:"0 16px 32px 16px"},children:[(0,r.jsxs)("div",{className:p().cardHeader,children:[(0,r.jsx)("h2",{className:p().cardTitle,children:"Category Budgets"}),(0,r.jsx)("p",{className:p().cardDescription,children:"Track spending limits for specific categories"})]}),(0,r.jsx)("div",{className:p().categoryGrid,children:en.map(e=>{let{category:t,spent:a,limit:n,customName:i}=e,s=y[t]||y.other,l=a/n*100,c=a>n,d=l>=80&&!c,u=i?"".concat(t,"-").concat(i):t;return(0,r.jsxs)("div",{className:p().categoryItem,children:[(0,r.jsxs)("div",{className:p().categoryHeader,children:[(0,r.jsxs)("div",{className:p().categoryLeft,children:[(0,r.jsx)("div",{className:p().categoryIconWrapper,style:{backgroundColor:s.color+"20"},children:(0,r.jsx)("span",{style:{fontSize:"20px"},children:"food"===t?"\uD83C\uDF54":"transport"===t?"\uD83D\uDE97":"dining"===t?"\uD83C\uDF7D️":"shopping"===t?"\uD83D\uDECD️":"utilities"===t?"⚡":"housing"===t?"\uD83C\uDFE0":"healthcare"===t?"⚕️":"entertainment"===t?"\uD83C\uDFAE":"\uD83D\uDCB3"})}),(0,r.jsxs)("div",{className:p().categoryDetails,children:[(0,r.jsxs)("div",{className:p().categoryName,children:[i||et(t),"other"===t&&i&&(0,r.jsx)("button",{className:p().renameButton,onClick:()=>{k(u),L(i||"")},title:"Rename category",style:{marginLeft:"8px",padding:"2px 6px",fontSize:"12px",background:"transparent",border:"1px solid #e5e7eb",borderRadius:"4px",cursor:"pointer"},children:"✏️"})]}),(0,r.jsxs)("div",{className:p().categorySpent,children:[(0,o.v)(a,g.currency)," of ",(0,o.v)(n,g.currency)]})]})]}),(0,r.jsxs)("div",{className:p().categoryActions,children:[(0,r.jsxs)("span",{className:"".concat(p().badge," ").concat(c?p().badgeDanger:d?p().badgeWarning:p().badgeSecondary),children:[l.toFixed(0),"%"]}),(0,r.jsx)("button",{className:p().iconButton,onClick:()=>ee(u,n),children:"✏️"}),(0,r.jsx)("button",{className:p().iconButton,onClick:()=>{if(i){let e={..._,categories:_.categories.filter(e=>e.category!==t||e.customName!==i)};v(e),G(e)}else{let e={..._,categories:_.categories.filter(e=>e.category!==t)};v(e),G(e)}},children:"✕"})]})]}),(0,r.jsx)("div",{className:p().progressBar,children:(0,r.jsx)("div",{className:p().progressFill,style:{width:"".concat(Math.min(l,100),"%"),background:c?"linear-gradient(90deg, #ef4444, #dc2626)":d?"linear-gradient(90deg, #f59e0b, #d97706)":"linear-gradient(90deg, #10b981, #059669)"}})}),C===u&&(0,r.jsxs)("div",{style:{display:"flex",gap:"8px",marginTop:"8px"},children:[(0,r.jsx)("input",{type:"number",value:B,onChange:e=>T(e.target.value),placeholder:"Enter limit",style:{padding:"8px 12px",borderRadius:"8px",border:"1px solid #e5e7eb",flex:1}}),(0,r.jsx)("button",{className:p().editButton,onClick:()=>{let e=parseFloat(B);if(e>0){let a=_.categories.filter(e=>i?e.category!==t||e.customName!==i:!(e.category===t&&!e.customName)).reduce((e,t)=>e+t.limit,0);if(a+e>_.totalBudgetLimit){let t=_.totalBudgetLimit-a;alert("Category budget exceeds monthly limit!\n\n"+"Monthly Budget: ".concat((0,o.v)(_.totalBudgetLimit,g.currency),"\n")+"Other Categories Total: ".concat((0,o.v)(a,g.currency),"\n")+"Available for this category: ".concat((0,o.v)(t,g.currency),"\n\n")+"You tried to set: ".concat((0,o.v)(e,g.currency)));return}if(i){let a={..._,categories:_.categories.map(a=>a.category===t&&a.customName===i?{...a,limit:e}:a)};v(a),G(a),D(null),T("")}else $(t,e)}},children:"Save"}),(0,r.jsx)("button",{className:p().editButton,onClick:()=>{D(null),T("")},children:"Cancel"})]}),w===u&&(0,r.jsxs)("div",{style:{display:"flex",gap:"8px",marginTop:"8px"},children:[(0,r.jsx)("input",{type:"text",value:I,onChange:e=>L(e.target.value),placeholder:"Enter category name (max 30 chars)",maxLength:30,style:{padding:"8px 12px",borderRadius:"8px",border:"1px solid #e5e7eb",flex:1}}),(0,r.jsxs)("span",{style:{padding:"8px 12px",color:I.length>30?"#ef4444":"#6b7280",fontSize:"12px",display:"flex",alignItems:"center"},children:[I.length,"/30"]}),(0,r.jsx)("button",{className:p().editButton,onClick:()=>{let e=I.trim();if(e.length>0&&e.length<=30){let a={..._,categories:_.categories.map(a=>a.category===t&&a.customName===i?{...a,customName:e}:a)};v(a),G(a),k(null),L("")}else alert("Category name must be between 1 and 30 characters")},disabled:0===I.trim().length||I.length>30,children:"Save"}),(0,r.jsx)("button",{className:p().editButton,onClick:()=>{k(null),L("")},children:"Cancel"})]})]},u)})})]}),(0,r.jsxs)("div",{id:"add-category",className:p().card,style:{margin:"0 16px 32px 16px"},children:[(0,r.jsxs)("div",{className:p().cardHeader,children:[(0,r.jsx)("h2",{className:p().cardTitle,children:"Add Category Budget"}),(0,r.jsx)("p",{className:p().cardDescription,children:"Set spending limits for individual expense categories"})]}),0===er.length?(0,r.jsxs)("div",{className:p().emptyState,children:[(0,r.jsx)("div",{className:p().emptyStateIcon,children:"\uD83D\uDCC8"}),(0,r.jsx)("h3",{className:p().emptyStateTitle,children:"All categories have budgets"}),(0,r.jsx)("p",{className:p().emptyStateText,children:"You've set budget limits for all expense categories"})]}):(0,r.jsx)("div",{className:p().addCategorySection,children:er.map(e=>{let{category:t,spent:a}=e,n=y[t]||y.other;return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:p().addCategoryItem,children:[(0,r.jsxs)("div",{className:p().categoryLeft,children:[(0,r.jsx)("div",{className:p().categoryIconWrapper,style:{backgroundColor:n.color+"20"},children:(0,r.jsx)("span",{style:{fontSize:"16px"},children:"food"===t?"\uD83C\uDF54":"transport"===t?"\uD83D\uDE97":"dining"===t?"\uD83C\uDF7D️":"shopping"===t?"\uD83D\uDECD️":"utilities"===t?"⚡":"housing"===t?"\uD83C\uDFE0":"healthcare"===t?"⚕️":"entertainment"===t?"\uD83C\uDFAE":"\uD83D\uDCB3"})}),(0,r.jsxs)("div",{className:p().categoryDetails,children:[(0,r.jsx)("div",{className:p().categoryName,children:"other"===t?"Other":et(t)}),(0,r.jsx)("div",{className:p().categorySpent,children:a>0?"Spent ".concat((0,o.v)(a,g.currency)," ").concat(K(_.period)):"No spending ".concat(K(_.period))})]})]}),(0,r.jsxs)("button",{className:p().addButton,onClick:()=>ee(t),children:[(0,r.jsx)("span",{children:"➕"}),"Set Budget"]})]}),C===t&&(0,r.jsxs)("div",{style:{padding:"0 12px"},children:["other"===t&&(0,r.jsxs)("div",{style:{display:"flex",gap:"8px",marginTop:"8px",marginBottom:"8px"},children:[(0,r.jsx)("input",{type:"text",value:I,onChange:e=>L(e.target.value),placeholder:"Custom name (optional, max 30 chars)",maxLength:30,style:{padding:"8px 12px",borderRadius:"8px",border:"1px solid #e5e7eb",flex:1}}),(0,r.jsxs)("span",{style:{padding:"8px 12px",color:I.length>30?"#ef4444":"#6b7280",fontSize:"12px",display:"flex",alignItems:"center",minWidth:"50px"},children:[I.length,"/30"]})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"8px",marginTop:"other"===t?"0":"8px"},children:[(0,r.jsx)("input",{type:"number",value:B,onChange:e=>T(e.target.value),placeholder:"Enter budget limit",style:{padding:"8px 12px",borderRadius:"8px",border:"1px solid #e5e7eb",flex:1}}),(0,r.jsx)("button",{className:p().editButton,onClick:()=>{let e=parseFloat(B);e>0&&("other"===t&&I.trim().length>0&&I.length<=30?$(t,e,I.trim()):$(t,e))},disabled:"other"===t&&I.length>30,children:"Save"}),(0,r.jsx)("button",{className:p().editButton,onClick:()=>{D(null),T(""),L("")},children:"Cancel"})]})]})]},t)})})]})]})}),(0,r.jsx)(s.A,{buttonColor:"#222222",opacity:50})]})}},44644:(e,t,a)=>{"use strict";a.d(t,{A:()=>l,Q:()=>s});var r=a(54568),n=a(7620);let i=(0,n.createContext)({baseColor:"",viaColor:"",bottomColor:"",viaStop:"",bottomStop:"",setBaseColor:()=>{},isUserSet:!1});function s(){return(0,n.useContext)(i)}function l(e){let{children:t}=e,[a,s]=(0,n.useState)("#245cd4"),[l,c]=(0,n.useState)(!1),o=function(e,t,a){let r=parseInt(e.slice(1),16),n=Math.round((r>>16)*.5),i=Math.round((r>>8&255)*.5),s=Math.round((255&r)*(1-t));return"rgba(".concat(n,", ").concat(i,", ").concat(s,", ").concat(.2,")")}(a,.5,0);return(0,n.useEffect)(()=>{"undefined"!=typeof document&&document.documentElement.style.setProperty("--baseColor",a)},[a]),(0,r.jsx)(i.Provider,{value:{baseColor:a,viaColor:o,bottomColor:"#040914",viaStop:"40%",bottomStop:"90%",setBaseColor:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];s(e),t&&c(!0),"undefined"!=typeof document&&document.documentElement.style.setProperty("--baseColor",e)},isUserSet:l},children:t})}},51158:(e,t,a)=>{Promise.resolve().then(a.bind(a,41225)),Promise.resolve().then(a.bind(a,80747))},58321:e=>{e.exports={sidebar:"sidebar-nav_sidebar__NuSYH",sidebarContent:"sidebar-nav_sidebarContent__GnVOp",nav:"sidebar-nav_nav__rcrRi",section:"sidebar-nav_section__hTcrG",sectionHeader:"sidebar-nav_sectionHeader__wG0Uc",sectionHeaderActive:"sidebar-nav_sectionHeaderActive__j_nTi",sectionLabel:"sidebar-nav_sectionLabel__XbeR_",expandButton:"sidebar-nav_expandButton__Myple",chevron:"sidebar-nav_chevron__Y7Pkx",items:"sidebar-nav_items__jsJCM",slideDown:"sidebar-nav_slideDown__3amac",item:"sidebar-nav_item__SAIUp"}},62942:(e,t,a)=>{"use strict";var r=a(42418);a.o(r,"redirect")&&a.d(t,{redirect:function(){return r.redirect}}),a.o(r,"useParams")&&a.d(t,{useParams:function(){return r.useParams}}),a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},75477:e=>{e.exports={header:"page-header_header__LWTx2",backButton:"page-header_backButton__MXBy6",headerCenter:"page-header_headerCenter__FpQ7W",title:"page-header_title__Ws1VT",subtitle:"page-header_subtitle__fHcsX",subtitleText:"page-header_subtitleText__gRl4D",backIcon:"page-header_backIcon__DyG0u"}},79861:e=>{e.exports={Footer:"Footer_Footer__QGeeC",FooterVisible:"Footer_FooterVisible__xN_bA",FooterHidden:"Footer_FooterHidden__xI_Nv"}},80747:(e,t,a)=>{"use strict";a.d(t,{default:()=>g});var r=a(54568),n=a(7620),i=a(62942),s=a(58677),l=a(58321),c=a.n(l);function o(e){let{customerId:t}=e,a=(0,i.useRouter)(),l=(0,i.usePathname)(),[o,d]=(0,n.useState)([]),u=l.includes("/analytics")?"analytics":l.includes("/budget")?"budget":l.includes("/transactions")?"transactions":l.includes("/profile")?"profile":l.includes("/settings")?"settings":null;return(0,n.useState)(()=>{u&&!o.includes(u)&&d([u])}),(0,r.jsx)("aside",{className:c().sidebar,children:(0,r.jsx)("div",{className:c().sidebarContent,children:(0,r.jsx)("nav",{className:c().nav,children:[{id:"analytics",label:"ANALYTICS",items:[{id:"stats-cards",label:"Stats Overview",scrollTo:"stats-cards"},{id:"expense-breakdown",label:"Expense Breakdown",scrollTo:"expense-breakdown"},{id:"daily-comparison",label:"Daily Expense Comparison",scrollTo:"daily-comparison"},{id:"spending-category",label:"Spending by Category",scrollTo:"spending-category"},{id:"recurring-payments",label:"Recurring Payments",scrollTo:"recurring-payments"},{id:"budget-overview",label:"Budget Overview",scrollTo:"budget-overview"}]},{id:"budget",label:"BUDGET",items:[{id:"monthly-budget",label:"Budget",scrollTo:"monthly-budget"},{id:"category-budgets",label:"Category Budgets",scrollTo:"category-budgets"},{id:"add-category",label:"Add Category Budget",scrollTo:"add-category"}]},{id:"transactions",label:"TRANSACTIONS",items:[{id:"filters",label:"Filters",scrollTo:"filters"},{id:"transaction-list",label:"Transaction List",scrollTo:"transaction-list"}]},{id:"profile",label:"PROFILE",items:[{id:"user-info",label:"User Information",scrollTo:"user-info"},{id:"currency-settings",label:"Currency Settings",scrollTo:"currency-settings"},{id:"about",label:"About",scrollTo:"about"}]},{id:"settings",label:"SETTINGS",items:[{id:"user-profile",label:"User Profile",scrollTo:"user-profile"},{id:"appearance",label:"Appearance",scrollTo:"appearance"},{id:"notifications",label:"Notifications",scrollTo:"notifications"},{id:"security",label:"Security",scrollTo:"security"},{id:"support",label:"Support",scrollTo:"support"},{id:"about-app",label:"About",scrollTo:"about-app"},{id:"account",label:"Account Management",scrollTo:"account"}]}].map(e=>{let n=o.includes(e.id),i=u===e.id;return(0,r.jsxs)("div",{className:c().section,children:[(0,r.jsxs)("div",{className:"".concat(c().sectionHeader," ").concat(i?c().sectionHeaderActive:""),children:[(0,r.jsx)("span",{className:c().sectionLabel,onClick:()=>{var r;return r=e.id,void(a.push("/".concat(t,"/").concat(r)),!o.includes(r)&&d([...o,r]))},style:{cursor:"pointer",flex:1},children:e.label}),(0,r.jsx)("button",{className:c().expandButton,onClick:t=>{var a;t.stopPropagation(),a=e.id,d(e=>e.includes(a)?e.filter(e=>e!==a):[...e,a])},children:n?(0,r.jsx)(s.D3D,{className:c().chevron}):(0,r.jsx)(s.vKP,{className:c().chevron})})]}),n&&(0,r.jsx)("div",{className:c().items,children:e.items.map(n=>(0,r.jsx)("button",{className:c().item,onClick:()=>((e,r)=>{if(u===e&&r.scrollTo){let e=document.getElementById(r.scrollTo);e&&e.scrollIntoView({behavior:"smooth",block:"start"})}else a.push("/".concat(t,"/").concat(e)),setTimeout(()=>{if(r.scrollTo){let e=document.getElementById(r.scrollTo);e&&e.scrollIntoView({behavior:"smooth",block:"start"})}},500)})(e.id,n),children:n.label},n.id))})]},e.id)})})})})}var d=a(8615),u=a.n(d);function g(e){let{customerId:t,children:a}=e;return(0,r.jsxs)("div",{className:u().layout,children:[(0,r.jsx)(o,{customerId:t}),(0,r.jsx)("main",{className:u().content,children:a})]})}},82248:(e,t,a)=>{"use strict";a.d(t,{P:()=>n});let r={food:{label:"Food & Groceries",color:"#10b981"},transport:{label:"Transportation",color:"#3b82f6"},dining:{label:"Dining Out",color:"#f59e0b"},shopping:{label:"Shopping",color:"#ef4444"},utilities:{label:"Utilities",color:"#8b5cf6"},housing:{label:"Housing",color:"#06b6d4"},healthcare:{label:"Healthcare",color:"#ec4899"},entertainment:{label:"Entertainment",color:"#84cc16"},other:{label:"Other",color:"#6b7280"}};function n(e){let t={...r};return e&&e.forEach(e=>{t["custom_".concat(e.id)]={label:e.name,color:e.color}}),t}},87007:e=>{e.exports={container:"budget-page-client_container__VcVAS",wrapper:"budget-page-client_wrapper__6OJgc",header:"budget-page-client_header__Ggke1",backButton:"budget-page-client_backButton__NsKxb",backIcon:"budget-page-client_backIcon__JQh23",headerCenter:"budget-page-client_headerCenter__97Mj_",title:"budget-page-client_title__Bz7cN",subtitle:"budget-page-client_subtitle__pbLdq",subtitleText:"budget-page-client_subtitleText__Jz5lH",card:"budget-page-client_card__Ym9uk",cardHeader:"budget-page-client_cardHeader__1Xx_a",cardHeaderFlex:"budget-page-client_cardHeaderFlex__hXBo1",cardTitleSection:"budget-page-client_cardTitleSection__qG1b9",iconWrapper:"budget-page-client_iconWrapper__9k9aF",cardTitle:"budget-page-client_cardTitle__1XqHW",cardDescription:"budget-page-client_cardDescription__Moqml",editButton:"budget-page-client_editButton__etwiT",cardContent:"budget-page-client_cardContent__oqSFD",budgetOverview:"budget-page-client_budgetOverview__UuYqE",budgetSection:"budget-page-client_budgetSection__Slf4p",budgetLabel:"budget-page-client_budgetLabel__ZpgM4",budgetValue:"budget-page-client_budgetValue__7dGvb",budgetValueNormal:"budget-page-client_budgetValueNormal__lCuUP",budgetValueOver:"budget-page-client_budgetValueOver__3op_3",budgetValueMuted:"budget-page-client_budgetValueMuted__xHltk",progressSection:"budget-page-client_progressSection__0sQp1",progressLabel:"budget-page-client_progressLabel__k5AGd",progressLabelText:"budget-page-client_progressLabelText__PzEvS",progressPercentage:"budget-page-client_progressPercentage__LPmmT",progressBar:"budget-page-client_progressBar__xpNMG",progressFill:"budget-page-client_progressFill__hfP7Q",statusAlert:"budget-page-client_statusAlert__Hh0RA",statusIcon:"budget-page-client_statusIcon__SwMlO",statusContent:"budget-page-client_statusContent__ubZHT",statusTitle:"budget-page-client_statusTitle__xj64b",statusMessage:"budget-page-client_statusMessage__VDiED",categoryGrid:"budget-page-client_categoryGrid__XNcNe",categoryItem:"budget-page-client_categoryItem__e_ZJK",categoryHeader:"budget-page-client_categoryHeader__8YRJC",categoryLeft:"budget-page-client_categoryLeft__XhhMs",categoryIconWrapper:"budget-page-client_categoryIconWrapper__fAL_S",categoryDetails:"budget-page-client_categoryDetails__BLdLG",categoryName:"budget-page-client_categoryName__Gbn_H",categorySpent:"budget-page-client_categorySpent__83ZI2",categoryActions:"budget-page-client_categoryActions___6nYR",badge:"budget-page-client_badge__l5bea",badgeSecondary:"budget-page-client_badgeSecondary__4t63C",badgeWarning:"budget-page-client_badgeWarning__6UmZH",badgeDanger:"budget-page-client_badgeDanger__hZAzW",iconButton:"budget-page-client_iconButton__Qa4kb",addCategorySection:"budget-page-client_addCategorySection__3JPrX",addCategoryItem:"budget-page-client_addCategoryItem__Vyahu",addButton:"budget-page-client_addButton__wG50F",emptyState:"budget-page-client_emptyState__uU8pE",emptyStateIcon:"budget-page-client_emptyStateIcon__sZvyc",emptyStateTitle:"budget-page-client_emptyStateTitle__2Kzqr",emptyStateText:"budget-page-client_emptyStateText__Vh6ZF",main:"budget-page-client_main__xBSKU",budgetCard:"budget-page-client_budgetCard__wXnTY",categoryBudgetsCard:"budget-page-client_categoryBudgetsCard__CWKw_",addCategoryCard:"budget-page-client_addCategoryCard__mQ4Mg"}},97711:(e,t,a)=>{"use strict";a.d(t,{Y:()=>r});let r=(e,t)=>{let a=e.toLowerCase();if(a.includes("grocery")||a.includes("supermarket")||a.includes("food"))return"food";if(a.includes("gas")||a.includes("fuel")||a.includes("petrol"))return"transport";if(a.includes("restaurant")||a.includes("cafe")||a.includes("dining"))return"dining";if(a.includes("shop")||a.includes("store")||a.includes("retail"))return"shopping";if(a.includes("utility")||a.includes("electric")||a.includes("water")||a.includes("internet"))return"utilities";if(a.includes("rent")||a.includes("mortgage")||a.includes("housing"))return"housing";if(a.includes("medical")||a.includes("hospital")||a.includes("pharmacy"))return"healthcare";if(a.includes("entertainment")||a.includes("movie")||a.includes("game"))return"entertainment";if(t&&t.length>0){for(let e of t)for(let t of e.keywords)if(a.includes(t.toLowerCase()))return"custom_".concat(e.id)}return"other"}}},e=>{e.O(0,[8334,6715,9386,587,1902,7358],()=>e(e.s=51158)),_N_E=e.O()}]);