(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6155],{27470:(e,n,s)=>{Promise.resolve().then(s.bind(s,77648))},54949:e=>{e.exports={HeaderWrapper:"Header_HeaderWrapper__IH2Al"}},59224:e=>{e.exports={PillsWrapper:"account-pills_PillsWrapper__2wcuE",ButtonWrapper:"account-pills_ButtonWrapper__U7vxz",LabelSpan:"account-pills_LabelSpan__qHUl1"}},63075:e=>{e.exports={main:"dashboard-client_main__RrA6K",AccountsGrid:"dashboard-client_AccountsGrid__awM3C",Grid2:"dashboard-client_Grid2__Y4H8G",TransactionsGrid:"dashboard-client_TransactionsGrid__M3Ozi",TransactionsListWrapper:"dashboard-client_TransactionsListWrapper___9Fg1",Grid4:"dashboard-client_Grid4__HU7QU",Grid5:"dashboard-client_Grid5__dsarr",Grid6:"dashboard-client_Grid6__rt2iT"}},77648:(e,n,s)=>{"use strict";s.d(n,{default:()=>H});var t=s(54568),a=s(7620),r=s(54949),l=s.n(r),c=s(62942),i=s(58677);function o(){let e=(0,c.useParams)(),n=(0,c.useRouter)(),s=e.customerId;return(0,t.jsxs)("div",{className:l().HeaderWrapper,children:[(0,t.jsx)(d,{className:l().SettingsButton,onClick:()=>{n.push("/".concat(s,"/profile"))},children:(0,t.jsx)(i.nXn,{width:"25",height:"25"})}),(0,t.jsx)(d,{className:l().SettingsButton,onClick:()=>{n.push("/".concat(s,"/settings"))},children:(0,t.jsx)(i.L64,{width:"25",height:"25"})})]})}function d(e){let{children:n,className:s,onClick:a}=e;return(0,t.jsx)("button",{onClick:a,className:"p-3 rounded-full bg-transparent hover:bg-gray-100/10 transition-colors cursor-pointer border-none ".concat(s||""),children:n})}var u=s(11475),m=s(81357),x=s(63075),h=s.n(x),p=s(44644),_=s(57296),j=s(83876);let b=function(e){let{accountType:n,accountName:s,balance:a}=e,[r,l]=a.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2}).split(".");return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h3",{className:"text-normal font-normal",children:(0,t.jsxs)("span",{className:"inline-flex items-center gap-1",children:[n," ",(0,t.jsx)(i.Zy4,{})," ",s]})}),(0,t.jsxs)("span",{className:"text-6xl font-bold mt-2",children:["\xa3",r,(0,t.jsxs)("span",{className:"text-4xl font-bold align-bottom ml-1",children:[".",l]})]})]})},g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return Array.from({length:e},(n,s)=>"hsl(".concat(Math.floor(360/e*s),", 70%, 50%)"))};var f=s(7803),N=s(59224),v=s.n(N);function y(e){let{buttons:n}=e;return(0,t.jsx)("div",{className:v().PillsWrapper,children:n.map(e=>{let{key:n,icon:s,label:a,onClick:r}=e;return(0,t.jsxs)("div",{role:"button",className:v().ButtonWrapper,onClick:r,"aria-label":a,children:[(0,t.jsx)(f.K,{size:"3",radius:"full",variant:"ghost",color:"gray",children:s}),(0,t.jsx)("span",{className:v().LabelSpan,children:a})]},n)})})}var w=s(79756),C=s.n(w),k=s(24338);let A="accounts-carousel-slide-hue";function W(e){let{accounts:n,setSelectedAccount:s,onNavigate:r}=e,[l,o]=(0,_.A)({loop:!1}),d=g(10),{setBaseColor:u}=(0,p.Q)(),[m,x]=(0,a.useState)(0),[h,f]=(0,a.useState)({0:d[0]}),N=(0,c.useParams)(),v=(0,c.useRouter)(),w=N.customerId;(0,a.useEffect)(()=>{try{let e=localStorage.getItem(A);e&&f(JSON.parse(e))}catch(e){console.warn("Failed to load hues from localStorage",e)}},[]),(0,a.useEffect)(()=>{try{localStorage.setItem(A,JSON.stringify(h))}catch(e){console.warn("Failed to save hues to localStorage",e)}},[h]);let W=(0,a.useCallback)(()=>{null==o||o.scrollPrev(),null==r||r()},[o,r]),S=(0,a.useCallback)(()=>{null==o||o.scrollNext(),null==r||r()},[o,r]);(0,a.useEffect)(()=>{if(!o)return;let e=()=>{var e,t;let a=o.selectedScrollSnap();if(x(a),0===a)s(null);else{let t=n[a-1];s(null!=(e=null==t?void 0:t.uniqueId)?e:null)}let r=null!=(t=h[a])?t:d[a%d.length];null==u||u(r)};return o.on("select",e),e(),()=>{o.off("select",e)}},[o,n,s,u,d,h]);let T=n.reduce((e,n)=>{var s;return e+Number(null!=(s=n.balance)?s:0)},0);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(j.a,{className:C().embla,children:(0,t.jsx)("div",{className:C().embla__viewport,ref:l,children:(0,t.jsxs)("div",{className:C().embla__container,children:[(0,t.jsx)("div",{className:C().embla__slide,children:(0,t.jsx)(b,{accountType:"Total Balance",accountName:"All Accounts",balance:T})}),n.map(e=>(0,t.jsx)("div",{className:C().embla__slide,children:(0,t.jsx)(b,{accountType:e.type,accountName:e.name,balance:Number(e.balance)})},e.id))]})})}),(0,t.jsxs)("div",{className:"flex w-20 justify-between",children:[(0,t.jsx)("button",{onClick:W,"aria-label":"Previous account",children:(0,t.jsx)(i.jvd,{width:"18",height:"18"})}),(0,t.jsx)("button",{onClick:S,"aria-label":"Next account",children:(0,t.jsx)(i.QZK,{width:"18",height:"18"})})]}),(0,t.jsx)(y,{buttons:[{key:"add",icon:(0,t.jsx)(i.c11,{width:"35",height:"35"}),label:"Add Account",onClick:()=>window.open(k.env.NEXT_PUBLIC_ADD_ACCOUNT_URL,"_blank")},{key:"details",icon:(0,t.jsx)(i.ADv,{width:"35",height:"35"}),label:"Details",onClick:()=>console.log("Details clicked")},{key:"analytics",icon:(0,t.jsx)(i.R5L,{width:"35",height:"35"}),label:"Analytics",onClick:()=>v.push("/".concat(w,"/analytics"))},{key:"more",icon:(0,t.jsx)(i.yq6,{width:"35",height:"35"}),label:"More",onClick:()=>console.log("More clicked")}]})]})}var S=s(19368),T=s(77749),D=s(64722),M=s(68082),G=s(86627),E=s.n(G);function I(e){let{transactions:n}=e,[s,r]=(0,a.useState)(null);return(0,t.jsxs)(S.bL,{onOpenChange:e=>{e||r(null)},children:[(0,t.jsx)("div",{className:E().TransactionsWrapper,children:n.map(e=>{let n=0>Number(e.amount),s=n?E().DebitText:E().CreditText,a=n?i.JMY:i.s3U;return(0,t.jsx)("div",{className:E().BoxWrapper,children:(0,t.jsx)(S.l9,{onClick:()=>r(e),children:(0,t.jsx)(j.a,{className:E().CardWrapper,style:{cursor:"pointer"},children:(0,t.jsx)(T.Z,{children:(0,t.jsxs)(D.s,{gap:"3",align:"center",children:[(0,t.jsx)("div",{className:E().IconWrapper,children:(0,t.jsx)(a,{})}),(0,t.jsxs)("div",{className:E().TextWrapper,children:[(0,t.jsx)(M.E,{as:"div",size:"2",children:n?"Debit":"Credit"}),(0,t.jsx)(M.E,{as:"div",size:"2",weight:"bold",children:e.narration}),(0,t.jsx)(M.E,{as:"div",size:"1",children:new Date(e.bookedDate).toISOString().slice(0,10)})]}),(0,t.jsx)("div",{className:E().AmountWrapper,children:(0,t.jsx)(M.E,{as:"div",size:"3",weight:"bold",className:s,children:e.amount})})]})})})})},e.id)})}),s&&(0,t.jsxs)(S.UC,{children:[(0,t.jsxs)(D.s,{gap:"3",justify:"between",style:{marginBottom:"1rem"},children:[(0,t.jsx)(S.hE,{children:"Transaction Details"}),(0,t.jsx)(S.bm,{children:(0,t.jsx)(i.raE,{})})]}),(0,t.jsxs)(j.a,{children:[(0,t.jsxs)(M.E,{children:[(0,t.jsx)("strong",{children:"ID:"})," ",s.id,(0,t.jsx)("br",{})]}),(0,t.jsxs)(M.E,{children:[(0,t.jsx)("strong",{children:"Amount:"})," ",s.amount]}),(0,t.jsxs)(M.E,{children:[(0,t.jsx)("strong",{children:"Narration:"})," ",s.narration,(0,t.jsx)("br",{})]}),(0,t.jsxs)(M.E,{children:[(0,t.jsx)("strong",{children:"Booked Date:"})," ",new Date(s.bookedDate).toLocaleString()]})]})]})]})}var L=s(76108),B=s(29155),F=s(97711);function H(e){let{accounts:n,transactions:s,profile:r}=e,[l,i]=(0,a.useState)(null),[d,x]=(0,a.useState)(!1),{baseColor:_}=(0,p.Q)(),j=(0,c.useParams)().customerId,b=l?s.filter(e=>e.accountUniqueId===l):s,g=(0,a.useMemo)(()=>b.map(e=>{let n=parseFloat(e.amount);return{...e,numericAmount:Math.abs(n),type:n<0?"expense":"income",category:n<0?(0,F.Y)(e.narration):"income",date:new Date(e.bookedDate)}}),[b]),f=(0,a.useMemo)(()=>{let e=new Date,n=e.getMonth(),s=e.getFullYear(),t=0===n?11:n-1,a=0===n?s-1:s,r=g.filter(e=>{let t=e.date;return t.getMonth()===n&&t.getFullYear()===s}),l=g.filter(e=>{let n=e.date;return n.getMonth()===t&&n.getFullYear()===a}),c=r.filter(e=>"income"===e.type).reduce((e,n)=>e+n.numericAmount,0),i=r.filter(e=>"expense"===e.type).reduce((e,n)=>e+n.numericAmount,0),o=l.filter(e=>"income"===e.type).reduce((e,n)=>e+n.numericAmount,0),d=l.filter(e=>"expense"===e.type).reduce((e,n)=>e+n.numericAmount,0),u=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return{currentMonth:{name:u[n],income:c,expense:i},prevMonth:{name:u[t],income:o,expense:d}}},[g]);return(0,a.useEffect)(()=>{l&&console.log("Selected Account:",l)},[l]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o,{}),(0,t.jsxs)("main",{className:"".concat(h().main," page-gradient-background"),children:[(0,t.jsx)(m.x,{className:h().AccountsGrid,children:(0,t.jsx)(W,{accounts:n,setSelectedAccount:i,onNavigate:()=>x(!0)})}),(0,t.jsx)(m.x,{className:h().Grid2,children:(0,t.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Ads"})}),(0,t.jsxs)(m.x,{className:h().Grid2,children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Upcoming bills"}),(0,t.jsx)(B.Z,{transactions:g,currency:r.currency,maxItems:5,showSeeMore:!0})]}),(0,t.jsxs)(m.x,{rows:"3",className:h().TransactionsGrid,style:{gridTemplateRows:"2.5rem 1fr 2.5rem"},children:[(0,t.jsx)("div",{style:{display:"flex",height:"100%",padding:".3rem"},children:(0,t.jsx)("span",{children:(0,t.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Transactions"})})}),(0,t.jsx)("div",{className:h().TransactionsListWrapper,children:(0,t.jsx)(I,{transactions:b.slice(0,10)})}),(0,t.jsx)("div",{className:"justify-center items-center flex cursor-pointer",role:"button",onClick:()=>(0,c.redirect)("/".concat(j,"/transactions")),children:"See all"})]}),(0,t.jsxs)(m.x,{className:h().Grid4,children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"This Month vs Last Month"}),(0,t.jsx)("div",{style:{width:"100%",height:"350px",minHeight:"350px"},children:g.length>0&&(f.currentMonth.expense>0||f.prevMonth.expense>0)?(0,t.jsx)(L.E,{data:f,currency:r.currency,transactions:g}):(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"#6b7280",height:"100%"},children:[(0,t.jsx)("div",{style:{fontSize:"48px",marginBottom:"6px"},children:"\uD83D\uDCC8"}),(0,t.jsx)("p",{children:"No expense data for comparison"})]})})]}),(0,t.jsx)(m.x,{className:h().Grid6,children:(0,t.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"My top receivers"})})]}),(0,t.jsx)(u.A,{opacity:2})]})}},79756:e=>{e.exports={embla__viewport:"accounts-carousel_embla__viewport__g3FXi",embla__container:"accounts-carousel_embla__container__9Jq4R",embla__slide:"accounts-carousel_embla__slide__PnYl_",embla:"accounts-carousel_embla__Tx9Vm"}},86627:e=>{e.exports={TransactionsWrapper:"transactions-column_TransactionsWrapper__y2Kyq",BoxWrapper:"transactions-column_BoxWrapper__lHVpg",CardWrapper:"transactions-column_CardWrapper__H1gaO",IconWrapper:"transactions-column_IconWrapper__G2iMr",TextWrapper:"transactions-column_TextWrapper__9r_Ll",AmountWrapper:"transactions-column_AmountWrapper__5fySI",DebitText:"transactions-column_DebitText__YgynX",CreditText:"transactions-column_CreditText___OJdf"}}},e=>{e.O(0,[8334,9386,7437,1888,8837,5859,1638,3742,1967,587,1902,7358],()=>e(e.s=27470)),_N_E=e.O()}]);