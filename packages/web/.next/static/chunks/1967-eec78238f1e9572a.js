(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1967],{11030:e=>{e.exports={emptyState:"recurring-payments_emptyState__KuFd7",emptyStateIcon:"recurring-payments_emptyStateIcon__6vjjv",container:"recurring-payments_container__ofo0N",recurringItem:"recurring-payments_recurringItem__71qqy",recurringItemLeft:"recurring-payments_recurringItemLeft__TQAKy",categoryIcon:"recurring-payments_categoryIcon__I33ZT",itemDetails:"recurring-payments_itemDetails__GV38D",itemName:"recurring-payments_itemName__Gk_16",itemFrequency:"recurring-payments_itemFrequency__3lOEs",recurringItemRight:"recurring-payments_recurringItemRight__biOP1",itemAmount:"recurring-payments_itemAmount__N2_VE",itemDate:"recurring-payments_itemDate__5fIIC",seeMore:"recurring-payments_seeMore___Afa7"}},11475:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var n=r(54568),o=r(7620),a=r(79861),s=r.n(a),i=r(62942),c=r(58677);function l(e){let{buttonColor:t,opacity:r=75}=e,a=(0,i.useParams)(),l=(0,i.useRouter)(),d=a.customerId,[m,h]=(0,o.useState)(!0),[g,p]=(0,o.useState)(0);(0,o.useEffect)(()=>{let e=()=>{let e=window.scrollY;e<10?h(!0):e>g?h(!1):e<g&&h(!0),p(e)};return window.addEventListener("scroll",e,{passive:!0}),()=>{window.removeEventListener("scroll",e)}},[g]);let y=()=>{l.push("/".concat(d,"/dashboard"))},x=t?{color:t}:{};return(0,n.jsxs)("div",{className:"".concat(s().Footer," ").concat(m?s().FooterVisible:s().FooterHidden),style:{backgroundColor:"rgba(255, 255, 255, ".concat(r/100,")")},children:[(0,n.jsx)(u,{onClick:y,text:"Home",style:x,textColor:t,children:(0,n.jsx)(c.fAJ,{width:"25",height:"25"})}),(0,n.jsx)(u,{onClick:()=>{l.push("/".concat(d,"/analytics"))},text:"Insights",style:x,textColor:t,children:(0,n.jsx)(c.j2g,{width:"25",height:"25"})}),(0,n.jsx)(u,{onClick:()=>{l.push("/".concat(d,"/budget"))},text:"Budget",style:x,textColor:t,children:(0,n.jsx)(c.LMN,{width:"25",height:"25"})}),(0,n.jsx)(u,{onClick:y,text:"Deals",style:x,textColor:t,children:(0,n.jsx)(c.A20,{width:"25",height:"25"})})]})}function u(e){let{text:t="",children:r,textColor:o,onClick:a,style:s}=e;return(0,n.jsxs)("div",{className:"flex flex-col items-center",children:[(0,n.jsx)("button",{onClick:a,style:s,className:"p-3 rounded-full bg-transparent hover:bg-gray-100/10 transition-colors cursor-pointer border-none",children:r}),t&&(0,n.jsx)("div",{className:"text-xs text-center",style:o?{color:o}:{},children:t})]})}},15816:(e,t,r)=>{"use strict";r.d(t,{v:()=>n});let n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";return"".concat({USD:"$",EUR:"€",GBP:"\xa3",JPY:"\xa5",AUD:"A$",CAD:"C$",CHF:"Fr",CNY:"\xa5",INR:"₹",NGN:"₦"}[t]||"$").concat(Math.abs(e).toLocaleString())}},29155:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(54568),o=r(7620),a=r(97711),s=r(15816),i=r(62942),c=r(11030),l=r.n(c);let u=e=>{let{transactions:t,currency:r,maxItems:c=3,showSeeMore:u=!0}=e,d=(0,i.useParams)().customerId,m=(0,o.useMemo)(()=>{let e=(e=>{let t=e.filter(e=>"expense"===e.type),r=new Map;t.forEach(e=>{let t=e.narration.toLowerCase().replace(/\d+/g,"").replace(/[^\w\s]/g,"").trim();t.length>3&&(r.has(t)||r.set(t,[]),r.get(t).push({date:e.date,amount:e.numericAmount,narration:e.narration}))});let n=[];return r.forEach((e,t)=>{if(e.length>=2){e.sort((e,t)=>e.date.getTime()-t.date.getTime());let r=(e=>{let t=[];for(let r=1;r<e.length;r++){let n=Math.round((e[r].date.getTime()-e[r-1].date.getTime())/864e5);t.push(n)}return t})(e),o=r.reduce((e,t)=>e+t,0)/r.length;if(r.every(e=>7>=Math.abs(e-o))&&o>=7&&o<=365){let r=e[e.length-1],s=e.reduce((e,t)=>e+t.amount,0)/e.length,i=(0,a.Y)(r.narration),c=new Date(r.date.getTime()+24*o*36e5);n.push({pattern:t.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),category:i,averageAmount:s,count:e.length,intervalDays:Math.round(o),lastPayment:r.date,nextPayment:c,transactions:e})}}}),n.sort((e,t)=>e.nextPayment.getTime()-t.nextPayment.getTime())})(t),r=new Date;r.setHours(0,0,0,0);let n=[],o=[];return e.forEach(e=>{let t=new Date(e.nextPayment);t.setHours(0,0,0,0),t.getTime()<r.getTime()?n.push(e):o.push(e)}),[...n.slice(0,1),...o]},[t]);return 0===m.length?(0,n.jsxs)("div",{className:l().emptyState,children:[(0,n.jsx)("div",{className:l().emptyStateIcon,children:"\uD83D\uDD04"}),(0,n.jsx)("p",{children:"No recurring payments detected"})]}):(0,n.jsxs)("div",{className:l().container,children:[m.slice(0,c).map((e,t)=>{let o=(e=>{let t=new Date;t.setHours(0,0,0,0);let r=new Date(e);r.setHours(0,0,0,0);let n=Math.ceil((r.getTime()-t.getTime())/864e5);return 0===n?"Today":1===n?"in 1 day":n<0?"Overdue":"in ".concat(n," days")})(e.nextPayment),a=e.nextPayment.toLocaleDateString("en-GB",{day:"numeric",month:"long"});return(0,n.jsxs)("div",{className:l().recurringItem,children:[(0,n.jsxs)("div",{className:l().recurringItemLeft,children:[(0,n.jsx)("div",{className:l().categoryIcon,children:"utilities"===e.category?"⚡":"housing"===e.category?"\uD83C\uDFE0":"transport"===e.category?"\uD83D\uDE97":"entertainment"===e.category?"\uD83C\uDFAE":"\uD83D\uDCB3"}),(0,n.jsxs)("div",{className:l().itemDetails,children:[(0,n.jsx)("span",{className:l().itemName,children:e.pattern}),(0,n.jsxs)("span",{className:l().itemFrequency,children:["Every ",e.intervalDays," days"]})]})]}),(0,n.jsxs)("div",{className:l().recurringItemRight,children:[(0,n.jsx)("span",{className:l().itemAmount,children:(0,s.v)(e.averageAmount,r)}),(0,n.jsxs)("span",{className:l().itemDate,children:[a,", ",o]})]})]},"".concat(e.pattern,"-").concat(t))}),u&&m.length>c&&(0,n.jsxs)("div",{className:l().seeMore,onClick:()=>(0,i.redirect)("/".concat(d,"/analytics")),children:["+",m.length-c," more in Analytics"]})]})}},44644:(e,t,r)=>{"use strict";r.d(t,{A:()=>i,Q:()=>s});var n=r(54568),o=r(7620);let a=(0,o.createContext)({baseColor:"",viaColor:"",bottomColor:"",viaStop:"",bottomStop:"",setBaseColor:()=>{},isUserSet:!1});function s(){return(0,o.useContext)(a)}function i(e){let{children:t}=e,[r,s]=(0,o.useState)("#245cd4"),[i,c]=(0,o.useState)(!1),l=function(e,t,r){let n=parseInt(e.slice(1),16),o=Math.round((n>>16)*.5),a=Math.round((n>>8&255)*.5),s=Math.round((255&n)*(1-t));return"rgba(".concat(o,", ").concat(a,", ").concat(s,", ").concat(.2,")")}(r,.5,0);return(0,o.useEffect)(()=>{"undefined"!=typeof document&&document.documentElement.style.setProperty("--baseColor",r)},[r]),(0,n.jsx)(a.Provider,{value:{baseColor:r,viaColor:l,bottomColor:"#040914",viaStop:"40%",bottomStop:"90%",setBaseColor:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];s(e),t&&c(!0),"undefined"!=typeof document&&document.documentElement.style.setProperty("--baseColor",e)},isUserSet:i},children:t})}},50924:e=>{e.exports={rechartTooltip:"month-on-month-chart_rechartTooltip__LmjTo",rechartTooltipLabel:"month-on-month-chart_rechartTooltipLabel__l3FpE",rechartTooltipValue:"month-on-month-chart_rechartTooltipValue__bL9w_"}},76108:(e,t,r)=>{"use strict";r.d(t,{E:()=>p});var n=r(54568),o=r(7620),a=r(28027),s=r(85433),i=r(90151),c=r(60884),l=r(95191),u=r(42921),d=r(70734),m=r(15816),h=r(50924),g=r.n(h);let p=e=>{let{data:t,currency:r,transactions:h}=e,p=new Date;p.getDate();let y=p.getMonth(),x=p.getFullYear(),_=0===y?11:y-1,f=0===y?x-1:x,v=new Date(x,y+1,0).getDate(),j=new Date(f,_+1,0).getDate(),N=Math.max(v,j),D=(0,o.useMemo)(()=>{let e=[];for(let t=1;t<=N;t++){let r=t<=v?h.filter(e=>{let r=e.date;return r.getDate()===t&&r.getMonth()===y&&r.getFullYear()===x&&"expense"===e.type}).reduce((e,t)=>e+t.numericAmount,0):null,n=t<=j?h.filter(e=>{let r=e.date;return r.getDate()===t&&r.getMonth()===_&&r.getFullYear()===f&&"expense"===e.type}).reduce((e,t)=>e+t.numericAmount,0):null;e.push({day:t.toString(),currentMonth:r,previousMonth:n})}return e},[y,x,_,f,h,v,j,N]);return(0,n.jsx)("div",{style:{width:"100%",height:"350px",minHeight:"350px",marginBottom:"16px"},children:(0,n.jsx)(a.u,{width:"100%",height:"100%",children:(0,n.jsxs)(s.b,{data:D,margin:{top:20,right:10,left:0,bottom:5},children:[(0,n.jsx)(i.W,{dataKey:"day",axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:"#6b7280"},interval:Math.floor(N/4)}),(0,n.jsx)(c.h,{axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:"#6b7280"},tickFormatter:e=>(0,m.v)(e,r)}),(0,n.jsx)(l.m,{content:(0,n.jsx)(e=>{let{active:o,payload:a,label:s}=e;return o&&a&&a.length?(0,n.jsxs)("div",{className:g().rechartTooltip,children:[(0,n.jsx)("p",{className:g().rechartTooltipLabel,children:"Day ".concat(s)}),a.map((e,o)=>(0,n.jsxs)("p",{style:{color:e.color},className:g().rechartTooltipValue,children:["\uD83D\uDCB8 ","currentMonth"===e.dataKey?t.currentMonth.name:t.prevMonth.name,": ",(0,m.v)(e.value,r)]},o))]}):null},{})}),(0,n.jsx)(u.s,{wrapperStyle:{paddingTop:"20px"},iconType:"line"}),(0,n.jsx)(d.N,{type:"monotone",dataKey:"currentMonth",stroke:"#856624",strokeWidth:1,dot:!1,connectNulls:!1,name:"".concat(t.currentMonth.name)}),(0,n.jsx)(d.N,{type:"monotone",dataKey:"previousMonth",stroke:"#f97316",strokeWidth:1,dot:!1,strokeDasharray:"2 5",connectNulls:!1,name:"".concat(t.prevMonth.name)})]})})})}},79861:e=>{e.exports={Footer:"Footer_Footer__QGeeC",FooterVisible:"Footer_FooterVisible__xN_bA",FooterHidden:"Footer_FooterHidden__xI_Nv"}},97711:(e,t,r)=>{"use strict";r.d(t,{Y:()=>n});let n=(e,t)=>{let r=e.toLowerCase();if(r.includes("grocery")||r.includes("supermarket")||r.includes("food"))return"food";if(r.includes("gas")||r.includes("fuel")||r.includes("petrol"))return"transport";if(r.includes("restaurant")||r.includes("cafe")||r.includes("dining"))return"dining";if(r.includes("shop")||r.includes("store")||r.includes("retail"))return"shopping";if(r.includes("utility")||r.includes("electric")||r.includes("water")||r.includes("internet"))return"utilities";if(r.includes("rent")||r.includes("mortgage")||r.includes("housing"))return"housing";if(r.includes("medical")||r.includes("hospital")||r.includes("pharmacy"))return"healthcare";if(r.includes("entertainment")||r.includes("movie")||r.includes("game"))return"entertainment";if(t&&t.length>0){for(let e of t)for(let t of e.keywords)if(r.includes(t.toLowerCase()))return"custom_".concat(e.id)}return"other"}}}]);